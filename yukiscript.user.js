// ==UserScript==
// @name         ЮкиСкрипт.greasemonkey
// @namespace    udp://insomnia/*
// @version      0.0.8
// @description  enter something useful
// @match        http://dobrochan.com/*/*
// @match        http://dobrochan.ru/*/*
// @include      http://dobrochan.com/*/*
// @include      http://dobrochan.ru/*/*
// @copyright    2013+, You
// @updateURL    https://userscripts.org/scripts/source/176183.user.js
// @grant        none
// ==/UserScript==

document.body.appendChild(document.createElement('script')).src='data:text/javascript;charset=utf-8;base64,' + 
'Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDQrtC60LjQodC60YDQuNC/0YIKLy8gQG5hbWVzcGFjZSAgICB1ZHA6Ly9pbnNvbW5pYS8qCi8vIEB2ZXJz'+
'aW9uICAgICAgMC4wLjgKLy8gQGRlc2NyaXB0aW9uICBlbnRlciBzb21ldGhpbmcgdXNlZnVsCi8vIEBtYXRjaCAgICAgICAgaHR0cDovL2RvYnJvY2hhbi5jb20vKi8q'+
'Ci8vIEBtYXRjaCAgICAgICAgaHR0cDovL2RvYnJvY2hhbi5ydS8qLyoKLy8gQGluY2x1ZGUgICAgICBodHRwOi8vZG9icm9jaGFuLmNvbS8qLyoKLy8gQGluY2x1ZGUg'+
'ICAgICBodHRwOi8vZG9icm9jaGFuLnJ1LyovKgovLyBAY29weXJpZ2h0ICAgIDIwMTMrLCBZb3UKLy8gQHVwZGF0ZVVSTCAgICBodHRwczovL3VzZXJzY3JpcHRzLm9y'+
'Zy9zY3JpcHRzL3NvdXJjZS8xNzYxODIudXNlci5qcwovLyBAZ3JhbnQgICAgICAgIG5vbmUKLy8gPT0vVXNlclNjcmlwdD09Cgp2YXIgeXVraVNheXNXZUZvY3VzZWQg'+
'PSB0cnVlLAogICAgZW1wdHlJY29uRGF0YSA9ICcnLAogICAgZG9icm9jaGFuSWNvbkRhdGEgPSAnJywKICAgIGxhc3RQb3N0VXBkYXRlID0gJycsCiAgICBudW1PZk5l'+
'd1Bvc3RzID0gMCwKICAgIG9yaWdpbmFsVGhyZWFkVGl0bGUgPSAnJywKICAgIHl1a2lyZXBseUZvcm0gPSBudWxsLAogICAgZmlsZUxpc3QgPSBbXSwKICAgIHl1a2lJ'+
'c1Bvc3RpbmcgPSBmYWxzZSwKICAgIHl1a2lQbGVhc2VSbW92ZVJlcGx5Rm9ybSA9IGZhbHNlLAogICAgdXBkYXRlSGVhcnRCZWF0ID0gbnVsbCwKICAgIHRocmVhZFVw'+
'ZGF0ZVRpbWVyID0gNjAsCiAgICB5dWtpQXV0b3VwZGF0ZVRocmVhZCA9IHRydWUsCiAgICB5dWtpUmVtb3ZlRXhpZiA9IHRydWUsCiAgICB5dWtpUmVtb3ZlRmlsZU5h'+
'bWUgPSB0cnVlOwoKUGFyc2VVcmwgPSBmdW5jdGlvbih1cmwpewogICAgbSA9ICh1cmwgfHwgZG9jdW1lbnQubG9jYXRpb24uaHJlZikubWF0Y2goIC9odHRwcz86XC9c'+
'LyhbXlwvXSspXC8oW15cL10rKVwvKChcZCspfHJlc1wvKFxkKyl8XHcrKShcLng/aHRtbCk/KCNpPyhcZCspKT8vKQogICAgcmV0dXJuIG0/e2hvc3Q6bVsxXSwgYm9h'+
'cmQ6bVsyXSwgcGFnZTptWzRdLCB0aHJlYWQ6bVs1XSwgcG9pbnRlcjptWzhdfTp7fTsKfTsKCnZhciBtYWtlUmFuZElkID0gZnVuY3Rpb24oc2l6ZSl7CiAgICB2YXIg'+
'dGV4dCA9ICIiOwogICAgdmFyIHBvc3NpYmxlID0gIjAxMjM0NTY3ODlhYmNkZWYiOwoKICAgIGZvciggdmFyIGk9MDsgaSA8IHNpemU7IGkrKyApCiAgICAgICAgdGV4'+
'dCArPSBwb3NzaWJsZS5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG9zc2libGUubGVuZ3RoKSk7CgogICAgcmV0dXJuIHRleHQ7Cn0KCnZhciBhcnJh'+
'eUJ1ZmZlckRhdGFVcmkgPSBmdW5jdGlvbihyYXcpIHsKICAgdmFyIGJhc2U2NCA9ICcnCiAgIHZhciBlbmNvZGluZ3MgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldY'+
'WVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLycKICAKICAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkocmF3KQogICB2YXIgYnl0ZUxlbmd0'+
'aCA9IGJ5dGVzLmJ5dGVMZW5ndGgKICAgdmFyIGJ5dGVSZW1haW5kZXIgPSBieXRlTGVuZ3RoICUgMwogICB2YXIgbWFpbkxlbmd0aCA9IGJ5dGVMZW5ndGggLSBieXRl'+
'UmVtYWluZGVyCiAgCiAgIHZhciBhLCBiLCBjLCBkCiAgIHZhciBjaHVuawogIAogICAvLyBNYWluIGxvb3AgZGVhbHMgd2l0aCBieXRlcyBpbiBjaHVua3Mgb2YgMwog'+
'ICBmb3IgKHZhciBpID0gMDsgaSA8IG1haW5MZW5ndGg7IGkgPSBpICsgMykgewogICAgLy8gQ29tYmluZSB0aGUgdGhyZWUgYnl0ZXMgaW50byBhIHNpbmdsZSBpbnRl'+
'Z2VyCiAgICBjaHVuayA9IChieXRlc1tpXSA8PCAxNikgfCAoYnl0ZXNbaSArIDFdIDw8IDgpIHwgYnl0ZXNbaSArIDJdCiAgCiAgICAvLyBVc2UgYml0bWFza3MgdG8g'+
'ZXh0cmFjdCA2LWJpdCBzZWdtZW50cyBmcm9tIHRoZSB0cmlwbGV0CiAgICBhID0gKGNodW5rICYgMTY1MTUwNzIpID4+IDE4IC8vIDE2NTE1MDcyID0gKDJeNiAtIDEp'+
'IDw8IDE4CiAgICBiID0gKGNodW5rICYgMjU4MDQ4KSA+PiAxMiAvLyAyNTgwNDggICA9ICgyXjYgLSAxKSA8PCAxMgogICAgYyA9IChjaHVuayAmIDQwMzIpID4+IDYg'+
'Ly8gNDAzMiAgICAgPSAoMl42IC0gMSkgPDwgNgogICAgZCA9IGNodW5rICYgNjMgLy8gNjMgICAgICAgPSAyXjYgLSAxCiAgICAvLyBDb252ZXJ0IHRoZSByYXcgYmlu'+
'YXJ5IHNlZ21lbnRzIHRvIHRoZSBhcHByb3ByaWF0ZSBBU0NJSSBlbmNvZGluZwogICAgYmFzZTY0ICs9IGVuY29kaW5nc1thXSArIGVuY29kaW5nc1tiXSArIGVuY29k'+
'aW5nc1tjXSArIGVuY29kaW5nc1tkXQogICB9CiAgCiAgIC8vIERlYWwgd2l0aCB0aGUgcmVtYWluaW5nIGJ5dGVzIGFuZCBwYWRkaW5nCiAgIGlmIChieXRlUmVtYWlu'+
'ZGVyID09IDEpIHsKICAgIGNodW5rID0gYnl0ZXNbbWFpbkxlbmd0aF0KICAKICAgIGEgPSAoY2h1bmsgJiAyNTIpID4+IDIgLy8gMjUyID0gKDJeNiAtIDEpIDw8IDIK'+
'ICAgIC8vIFNldCB0aGUgNCBsZWFzdCBzaWduaWZpY2FudCBiaXRzIHRvIHplcm8KICAgIGIgPSAoY2h1bmsgJiAzKSA8PCA0IC8vIDMgICA9IDJeMiAtIDEKICAgIGJh'+
'c2U2NCArPSBlbmNvZGluZ3NbYV0gKyBlbmNvZGluZ3NbYl0gKyAnPT0nCiAgIH0gZWxzZSBpZiAoYnl0ZVJlbWFpbmRlciA9PSAyKSB7CiAgICBjaHVuayA9IChieXRl'+
'c1ttYWluTGVuZ3RoXSA8PCA4KSB8IGJ5dGVzW21haW5MZW5ndGggKyAxXQogIAogICAgYSA9IChjaHVuayAmIDY0NTEyKSA+PiAxMCAvLyAxNjEyOCA9ICgyXjYgLSAx'+
'KSA8PCA4CiAgICBiID0gKGNodW5rICYgMTAwOCkgPj4gNCAvLyAxMDA4ICA9ICgyXjYgLSAxKSA8PCA0CiAgICAvLyBTZXQgdGhlIDIgbGVhc3Qgc2lnbmlmaWNhbnQg'+
'Yml0cyB0byB6ZXJvCiAgICBjID0gKGNodW5rICYgMTUpIDw8IDIgLy8gMTUgICAgPSAyXjQgLSAxCiAgICBiYXNlNjQgKz0gZW5jb2RpbmdzW2FdICsgZW5jb2Rpbmdz'+
'W2JdICsgZW5jb2RpbmdzW2NdICsgJz0nCiAgIH0KICAKICAgcmV0dXJuIGJhc2U2NAogIH0KCnZhciBqcGVnU3RyaXBFeHRyYSA9IGZ1bmN0aW9uKGlucHV0KSB7CiAg'+
'ICAgICAgICAvLyByZXN1bHQgZS50YXJnZXQucmVzdWx0OwoKICAgICAgICAgIC8vIERlY29kZSB0aGUgZGF0YVVSTCAgICAKICAgICAgICAgIHZhciBiaW5hcnkgPSBh'+
'dG9iKGlucHV0LnNwbGl0KCcsJylbMV0pOwogICAgICAgICAgLy8gQ3JlYXRlIDgtYml0IHVuc2lnbmVkIGFycmF5CiAgICAgICAgICB2YXIgYXJyYXkgPSBbXTsKICAg'+
'ICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBiaW5hcnkubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICBhcnJheS5wdXNoKGJpbmFyeS5jaGFyQ29kZUF0KGkpKTsK'+
'ICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgb3JpZyA9IG5ldyBVaW50OEFycmF5KGFycmF5KTsKICAgICAgICAgIHZhciBvdXREYXRhID0gbmV3IEFycmF5QnVmZmVy'+
'KG9yaWcuYnl0ZUxlbmd0aCkKICAgICAgICAgIHZhciBvdXRwdXQgPSBuZXcgVWludDhBcnJheShvdXREYXRhKTsKICAgICAgICAgIHZhciBwb3NPID0gMiwgcG9zVCA9'+
'IDI7CiAgIAogICAgICAgICAgb3V0cHV0WzBdID0gb3JpZ1swXTsKICAgICAgICAgIG91dHB1dFsxXSA9IG9yaWdbMV07CiAgICAKICAgICAgICAgIHdoaWxlKCEob3Jp'+
'Z1twb3NPXSA9PT0gMHhGRiAmJiBvcmlnW3Bvc08gKyAxXSA9PT0gMHhEOSkgJiYgcG9zTyA8PSBvcmlnLmJ5dGVMZW5ndGgpewogICAgICAgICAgICBpZihvcmlnW3Bv'+
'c09dID09PSAweEZGICYmIG9yaWdbcG9zTyArIDFdID09PSAweEZFKXsKICAgICAgICAgICAgICAgIHBvc08gKz0gMiArIG9yaWdbcG9zTyArIDJdICogMjU2ICsgb3Jp'+
'Z1twb3NPICsgM107ICAgICAgICAgICAgICAgIAogICAgICAgICAgICB9ZWxzZSBpZihvcmlnW3Bvc09dID09PSAweEZGICYmIChvcmlnW3Bvc08gKyAxXSA+PiA0KSA9'+
'PT0gMHhFICl7CiAgICAgICAgICAgICAgICBwb3NPICs9IDIgKyBvcmlnW3Bvc08gKyAyXSAqIDI1NiArIG9yaWdbcG9zTyArIDNdOyAgICAgICAgICAgICAgICAKICAg'+
'ICAgICAgICAgfWVsc2UgaWYob3JpZ1twb3NPXSA9PT0gMHhGRiAmJiBvcmlnW3Bvc08gKyAxXSA9PT0gMHhEQSl7ICAgICAgICAgICAgICAgIAogICAgICAgICAgICAg'+
'ICAgdmFyIGwgPSAoMiArIG9yaWdbcG9zTyArIDJdICogMjU2ICsgb3JpZ1twb3NPICsgM10pOwogICAgICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGw7IGkr'+
'Kyl7CiAgICAgICAgICAgICAgICAgICAgb3V0cHV0W3Bvc1QrK10gPSBvcmlnW3Bvc08rK107CiAgICAgICAgICAgICAgICB9ICAKICAgICAgICAgICAgICAgIHdoaWxl'+
'KCEob3JpZ1twb3NPXSA9PT0gMHhGRiAmJiBvcmlnW3Bvc08gKyAxXSA9PT0gMHhEOSkgJiYgcG9zTyA8PSBvcmlnLmJ5dGVMZW5ndGgpewogICAgICAgICAgICAgICAg'+
'ICAgIG91dHB1dFtwb3NUKytdID0gb3JpZ1twb3NPKytdOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIHZhciBsID0g'+
'KDIgKyBvcmlnW3Bvc08gKyAyXSAqIDI1NiArIG9yaWdbcG9zTyArIDNdKTsKICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBsOyBpKyspewogICAgICAg'+
'ICAgICAgICAgICAgIG91dHB1dFtwb3NUKytdID0gb3JpZ1twb3NPKytdOwogICAgICAgICAgICAgICAgfSAgICAgCiAgICAgICAgICAgIH0gICAgICAgICAgCiAgICAg'+
'ICAgICB9CiAgICAgICAgICAKICAgICAgICAgIG91dHB1dFtwb3NUXSA9IG9yaWdbcG9zT107CiAgICAgICAgICBvdXRwdXRbcG9zVCArIDFdID0gb3JpZ1twb3NPICsg'+
'MV07ICAgICAgICAgIAoKICAgICAgICAgIG91dHB1dCA9IG5ldyBVaW50OEFycmF5KG91dERhdGEsIDAsIHBvc1QrMik7ICAKICAgICAgICAgCiAgICAgICAgICByZXR1'+
'cm4gImRhdGE6aW1hZ2UvSnBlZztiYXNlNjQsIithcnJheUJ1ZmZlckRhdGFVcmkob3V0cHV0KTsKICAgICAgICB9OwoKdmFyIGRpZmZlcmVuY2UgPSBmdW5jdGlvbihh'+
'cnJheTEsIGFycmF5Mil7CiAgICB2YXIgcmVzdWx0ID0gW107CgogICAgaWYoYXJyYXkyLmxlbmd0aCA9PSAwKXsKICAgICAgICByZXR1cm4gYXJyYXkxOwogICAgfTsK'+
'CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5MS5sZW5ndGg7IGkrKykgewogICAgICAgIGlmKGFycmF5Mi5pbmRleE9mKGFycmF5MVtpXSkgPT0gLTEpewogICAg'+
'ICAgICAgICByZXN1bHQucHVzaChhcnJheTFbaV0pOwogICAgICAgIH07ICAgICAgCiAgICB9OwoKICAgIHJldHVybiByZXN1bHQ7Cn07Cgp2YXIgeXVraVBsZWFzZVJl'+
'cGx5TGlua3MyID0gZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgCiAgICB2YXIgYm9hcmQgPSBIYW5hYmlyYS5VUkwuYm9hcmQ7CiAgICAKICAgICQo'+
'Jy50aHJlYWQnKS5lYWNoKGZ1bmN0aW9uKGluZGV4KXsKICAgICAgICB2YXIgZSA9ICQodGhpcyk7CiAgICAgICAgdmFyIHRocmVhZElEID0gZS5hdHRyKCdpZCcpLnJl'+
'cGxhY2UoJ3RocmVhZF8nLCAnJyk7CiAgICAgICAgCiAgICAgICAgZS5maW5kKCcucG9zdDpub3QoLnl1a2lMaW5rc1Byb2Nlc3NlZCknKS5lYWNoKGZ1bmN0aW9uKGlu'+
'ZGV4KXsKICAgICAgICAgICAgdmFyIHIgPSAkKHRoaXMpOwogICAgICAgICAgICB2YXIgcG9zdElEID0gci5hdHRyKCdpZCcpLnJlcGxhY2UoJ3Bvc3RfJywgJycpOwoK'+
'ICAgICAgICAgICAgdmFyIHJlcGx5TGluayA9ICc8YSBocmVmPSIvJytib2FyZCsnL3Jlcy8nK3RocmVhZElEKycueGh0bWwjaScrcG9zdElEKyciIG9ubW91c2VvdmVy'+
'PSJTaG93UmVmUG9zdChldmVudCxcJycrCiAgICAgICAgICAgICAgICAgICAgYm9hcmQrJ1wnLCAnK3RocmVhZElEKycsICcrcG9zdElEKycpIiBvbmNsaWNrPSJIaWdo'+
'bGlnaHQoZXZlbnQsIFwnJytwb3N0SUQrCiAgICAgICAgICAgICAgICAgICAgJ1wnKSIgc3R5bGU9ImZvbnQtc2l6ZTogNjYlOyBmb250LXN0eWxlOiBpdGFsaWM7IiBj'+
'bGFzcz0ieXVraVJlcGx5TGlua3MiPiZndDsmZ3Q7Jytwb3N0SUQrJyZuYnNwOyZuYnNwOzwvYT4nCgogICAgICAgICAgICB2YXIgbGlua3MgPSB7fTsKCiAgICAgICAg'+
'ICAgIHIuZmluZCgnLnJlcGx5XycpLmVhY2goZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgIHZhciB0ZSA9ICQodGhpcyk7CiAgICAgICAgICAgICAgICB2YXIgb2xk'+
'T25DbGljayA9IHRlLmF0dHIoJ29uY2xpY2snKTsKICAgICAgICAgICAgICAgIGlmKG9sZE9uQ2xpY2spewogICAgICAgICAgICAgICAgICAgIHRlLm9mZignb25jbGlj'+
'aycpOwogICAgICAgICAgICAgICAgICAgIHRlLmF0dHIoJ29uY2xpY2snLCBvbGRPbkNsaWNrLnJlcGxhY2UoJ0dldFJlcGx5Rm9ybScsICd5dWtpTWFrZVJlcGx5Rm9y'+
'bScpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgICAgICByLmZpbmQoJ2Euc2VhcmNoX2dvb2dsZScpLmVhY2goZnVuY3Rpb24oKXsK'+
'ICAgICAgICAgICAgICAgICQodGhpcykuYXR0cignaHJlZicsICQodGhpcykuYXR0cignaHJlZicpLnJlcGxhY2UoJzovL2RvYnJvY2hhbi5ydS8nLCAnOi8vZG9icm9j'+
'aGFuLmNvbS8nKSk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgci5maW5kKCdhLnNlYXJjaF9pcWRiICcpLmVhY2goZnVuY3Rpb24oKXsKICAgICAgICAgICAg'+
'ICAgICQodGhpcykuYXR0cignaHJlZicsICQodGhpcykuYXR0cignaHJlZicpLnJlcGxhY2UoJzovL2RvYnJvY2hhbi5ydS8nLCAnOi8vZG9icm9jaGFuLmNvbS8nKSk7'+
'CiAgICAgICAgICAgICAgICAkKHRoaXMpLmFmdGVyKCQoJzxhIGNsYXNzPSJ5dWtpUGxheVJldmVyc2kgaWNvbiIgb25jbGljaz0ieXVraUxldHNQbGF5UmV2ZXJzaSh0'+
'aGlzKTtyZXR1cm4gZmFsc2U7IiBocmVmPSIjIiBzdHlsZT0ibWFyZ2luLWxlZnQ6IDVweDsgYmFja2dyb3VuZC1pbWFnZTogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2'+
'NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQTRBQUFBT0JBTUFBQUR0WmpEaUFBQUFNRkJNVkVVQUFRQUFSZ0FBWFFFQWFRRUFjZ0FBZkFBQWhnQWxlU2NBa2dCSGhV'+
'Z0FwQWc4bERoSnNrdHhxM0Zud1dqOS8vekJERTlVQUFBQWJVbEVRVlFJMTJNUU5qZFdBVUlHai85L3ZCd1l3aGpzLy8rM1lHRGdZS2ovLzM4R0F3TWJpSzhCb20zKy80'+
'MFNZSkJnVVBWVU1Rc1dDbUd3NnVpS1dyVnFCWU1KQTJQVSsvOG5HQXdZR0t6Ky8vL0dvTURBSVBYLy94Y1FYd3ZFTndYTDcyRFFhTXZ3YUhOdEF3RDFlaWN4bGZ6RHN3'+
'QUFBQUJKUlU1RXJrSmdnZz09KSI+PGltZyBzcmM9Ii9pbWFnZXMvYmxhbmsucG5nIiB0aXRsZT0iUGxheSBSZXZlcnNpISIgYWx0PSJQbGF5IFJldmVyc2khIj48L2E+'+
'JykpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHIuZmluZCgnLm1lc3NhZ2UgYScpLmVhY2goZnVuY3Rpb24oail7CiAgICAgICAgICAgICAgICB2YXIgbCA9'+
'ICQodGhpcyk7CgogICAgICAgICAgICAgICAgaWYobC5hdHRyKCdvbm1vdXNlb3ZlcicpICE9IG51bGwpewogICAgICAgICAgICAgICAgICAgIHZhciByZWYgPSBsLnRl'+
'eHQoKS5yZXBsYWNlKCc+PicsICcnKTsKICAgICAgICAgICAgICAgICAgICBsaW5rc1tyZWZdID0gcmVmOyAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAg'+
'IH1lbHNlewogICAgICAgICAgICAgICAgICAgIHZhciBsID0gJCh0aGlzKTsKCiAgICAgICAgICAgICAgICAgICAgaWYoIWwuaGFzQ2xhc3MoJ2RlLXl0dWJlLWxpbmsn'+
'KSAmJiBsLnRleHQoKS5pbmRleE9mKCdZb3VUdWJlOiAnKSA9PSAwICYmIGwuYXR0cignaHJlZicpLmluZGV4T2YoJ2h0dHA6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/'+
'dj0nKSA9PSAwKXsKCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB5dElkID0gbC5hdHRyKCdocmVmJykucmVwbGFjZSgnaHR0cDovL3d3dy55b3V0dWJlLmNvbS93'+
'YXRjaD92PScsJycpOwogICAgICAgICAgICAgICAgICAgICAgICBsLmFkZENsYXNzKCdkZS15dHViZS1saW5rJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGwub24o'+
'J2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgICAg'+
'ICAgICAgICAgIGlmKCQodGhpcykuY2xvc2VzdCgiLnBvc3Rib2R5IikucGFyZW50KCkuZmluZCgnLnl1a2lfeXRob2xkZXInKS5sZW5ndGggPiAwKXsKICAgICAgICAg'+
'ICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoIi5wb3N0Ym9keSIpLnBhcmVudCgpLmZpbmQoJy55dWtpX3l0aG9sZGVyJykucmVwbGFjZVdpdGgo'+
'JCgnPGRpdiBjbGFzcz0ieXVraV95dGhvbGRlciI+PGltZyBzcmM9Imh0dHBzOi8vaS55dGltZy5jb20vdmkvJyt5dElkKwogICAgICAgICAgICAgICAgICAgICAgICAg'+
'ICAgICAgICAgICAnLzAuanBnIiBoZWlnaHQ9IjI3MCIgd2lkdGg9IjM2MCIgY2xhc3M9Inl1a2lfY2xpY2thYmxlIi8+PGJyLz48c3BhbiBzdHlsZT0iZm9udC1zaXpl'+
'OiA1MCU7IiBjbGFzcz0ieXVraV9jbGlja2FibGUiIG9uY2xpY2s9IiQodGhpcykucGFyZW50KCkucmVtb3ZlKCk7Ij5beF08L3NwYW4+PC9kaXY+JykuZmluZCgnaW1n'+
'Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oeXRJZCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oZXZlbnQpewog'+
'ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykucmVwbGFjZVdpdGgoJCgnPGVtYmVkIHR5cGU9ImFwcGxpY2F0aW9uL3gtc2hv'+
'Y2t3YXZlLWZsYXNoIiBzcmM9Imh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL3YvJyArIHl0SWQgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg'+
'ICAgICAnIiB3bW9kZT0idHJhbnNwYXJlbnQiIHdpZHRoPSIzNjAiIGhlaWdodD0iMjcwIj4nKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg'+
'ICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0oeXRJZCkpLnBhcmVudCgpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlewog'+
'ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuY2xvc2VzdCgiLnBvc3Rib2R5IikuYmVmb3JlKCQoJzxkaXYgY2xhc3M9Inl1a2lfeXRob2xkZXIi'+
'PjxpbWcgc3JjPSJodHRwczovL2kueXRpbWcuY29tL3ZpLycreXRJZCsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJy8wLmpwZyIgaGVpZ2h0PSIy'+
'NzAiIHdpZHRoPSIzNjAiIGNsYXNzPSJ5dWtpX2NsaWNrYWJsZSIvPjxici8+PHNwYW4gc3R5bGU9ImZvbnQtc2l6ZTogNTAlOyIgY2xhc3M9Inl1a2lfY2xpY2thYmxl'+
'IiBvbmNsaWNrPSIkKHRoaXMpLnBhcmVudCgpLnJlbW92ZSgpOyI+W3hdPC9zcGFuPjwvZGl2PicpLmZpbmQoJ2ltZycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKHl0SWQp'+
'ewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg'+
'ICAgICAgICAgICAgICAkKHRoaXMpLnJlcGxhY2VXaXRoKCQoJzxlbWJlZCB0eXBlPSJhcHBsaWNhdGlvbi94LXNob2Nrd2F2ZS1mbGFzaCIgc3JjPSJodHRwczovL3d3'+
'dy55b3V0dWJlLmNvbS92LycgKyB5dElkICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyIgd21vZGU9InRyYW5zcGFyZW50IiB3'+
'aWR0aD0iMzYwIiBoZWlnaHQ9IjI3MCI+JykpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAg'+
'ICAgICAgICAgICB9KHl0SWQpKS5wYXJlbnQoKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMp'+
'LmNsb3Nlc3QoIi5wb3N0Ym9keSIpLmNzcygnY2xlYXInLCAnbGVmdCcpOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAg'+
'ICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgJC5lYWNoKGxpbmtzLCBmdW5jdGlvbihrZXksIHZhbHVlKXsKICAgICAgICAgICAgICAg'+
'ICQoJyNwb3N0XycgKyB2YWx1ZSArICcgLmFiYnJldicpLmFwcGVuZCgkKHJlcGx5TGluaykpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHIuYWRkQ2xhc3Mo'+
'J3l1a2lMaW5rc1Byb2Nlc3NlZCcpOwoKICAgICAgICB9KTsKICAgIH0pOyAKfTsKCnZhciB5dWtpUGxlYXNlRXhwYW5kVGhyZWFkID0gZnVuY3Rpb24oZSwgYm9hcmQs'+
'IHRocmVhZCl7CiAgZS5wcmV2ZW50RGVmYXVsdCgpOwogIHZhciB0aCA9ICQoJyN0aHJlYWRfJyt0aHJlYWQpOwogIHZhciBodG1sID0gdGguaHRtbCgpOwogIGlmIChI'+
'YW5hYmlyYS5FeHBUaHJlYWRzW3RocmVhZF0pCiAgICB0aC5odG1sKEhhbmFiaXJhLkV4cFRocmVhZHNbdGhyZWFkXSk7CiAgZWxzZQogIHsKICAgICQoZS50YXJnZXQu'+
'cGFyZW50Tm9kZSkuaHRtbCh0b0xvYWRpbmcoJCgnPHNwYW4+PC9zcGFuPicpKSk7CiAgICAkLmdldCgnL2FwaS90aHJlYWQvZXhwYW5kLycrYm9hcmQrJy8nK3RocmVh'+
'ZCwgZnVuY3Rpb24ocmVzKSB7CiAgICAgIHRoLmh0bWwocmVzKTsKICAgICAgQmluZENyb3NzZXMoJCgiLmRlbGV0ZSBpbnB1dCIsIHRoKSk7CiAgICAgIHl1a2lQbGVh'+
'c2VSZXBseUxpbmtzMigpOwogICAgfSk7CiAgfQogIEhhbmFiaXJhLkV4cFRocmVhZHNbdGhyZWFkXSA9IGh0bWw7Cn07Cgp2YXIgeXVraVBsZWFzZVNob3dOdW1VcGRh'+
'dGVzID0gZnVuY3Rpb24oKXsKICAgIGlmKG51bU9mTmV3UG9zdHMgPiAwKXsKICAgICAgICBkb2N1bWVudC50aXRsZSA9ICdbJyArIG51bU9mTmV3UG9zdHMgKyAnXSAn'+
'ICsgb3JpZ2luYWxUaHJlYWRUaXRsZTsKCiAgICB9ZWxzZXsKICAgICAgICBudW1PZk5ld1Bvc3RzID0gMDsKICAgICAgICBkb2N1bWVudC50aXRsZSA9IG9yaWdpbmFs'+
'VGhyZWFkVGl0bGU7CiAgICB9Cn07Cgp2YXIgeXVraVBsZWFzZUNoZWNrVXBkYXRlcyA9IGZ1bmN0aW9uKGZvcmNlKXsKICAgIGlmKHl1a2lJc1Bvc3RpbmcpewogICAg'+
'ICAgIHJldHVybjsKICAgIH0KICAgIAogICAgY2xlYXJUaW1lb3V0KHVwZGF0ZUhlYXJ0QmVhdCk7CiAgICB1cGRhdGVIZWFydEJlYXQgPSBzZXRUaW1lb3V0KHl1a2lQ'+
'bGVhc2VDaGVja1VwZGF0ZXMsIHRocmVhZFVwZGF0ZVRpbWVyICogMTAwMCk7CgogICAgaWYoIXl1a2lBdXRvdXBkYXRlVGhyZWFkICYmICFmb3JjZSl7CiAgICAgICAg'+
'cmV0dXJuIHRydWU7CiAgICB9CgogICAgJC5nZXQoJy9hcGkvdGhyZWFkLycrSGFuYWJpcmEuVVJMLmJvYXJkKycvJytIYW5hYmlyYS5VUkwudGhyZWFkKycuanNvbics'+
'IHt9LCBmdW5jdGlvbihkYXRhKXsKICAgICAgICBpZihsYXN0UG9zdFVwZGF0ZSAhPSBkYXRhLmxhc3RfbW9kaWZpZWQpewogICAgICAgICAgICAkLmdldCgnL2FwaS90'+
'aHJlYWQvZXhwYW5kLycrSGFuYWJpcmEuVVJMLmJvYXJkKycvJytIYW5hYmlyYS5VUkwudGhyZWFkLCBmdW5jdGlvbihyZXMpIHsKCiAgICAgICAgICAgICAgICB5dWtp'+
'UGxlYXNlVXBkYXRlVGhyZWFkKHJlcyk7CiAgICAgICAgICAgICAgICBCaW5kQ3Jvc3NlcygkKCIuZGVsZXRlIGlucHV0IikpOwogICAgICAgICAgICAgICAgeXVraVBs'+
'ZWFzZVJlcGx5TGlua3MyKCk7CiAgICAgICAgICAgICAgICAKICAgICAgICB9KTsKCiAgICAgICAgbGFzdFBvc3RVcGRhdGUgPSBkYXRhLmxhc3RfbW9kaWZpZWQ7ICAg'+
'ICAgICAKICAgICAgICB9CiAgICB9LCdqc29uJyk7Cn07Cgp2YXIgeXVraVBsZWFzZVVwZGF0ZVRocmVhZCA9IGZ1bmN0aW9uKG5ld0h0bWwpewogICAgJ3VzZSBzdHJp'+
'Y3QnOwoKICAgIAoKICAgIHZhciBuZXdUaHJlYWQgICA9ICQoJzxib2R5PicrbmV3SHRtbCsnPC9ib2R5PicpLAogICAgICAgIG9sZFBvc3RzICAgID0gW10sCiAgICAg'+
'ICAgbmV3UG9zdHMgICAgPSBbXSwKICAgICAgICBwb3N0UGFyZW50cyA9IHt9LAogICAgICAgIHByZXZQb3N0ICAgID0gMDsKCiAgICBuZXdUaHJlYWQuZmlsdGVyKCd0'+
'YWJsZS5yZXBseXBvc3QnKS5lYWNoKGZ1bmN0aW9uKGkpewogICAgICAgIHZhciBwb3N0SUQgPSAkKHRoaXMpLmF0dHIoJ2lkJykucmVwbGFjZSgncG9zdF8nLCAnJyk7'+
'CgogICAgICAgIG5ld1Bvc3RzLnB1c2gocG9zdElEKTsKICAgICAgICBwb3N0UGFyZW50c1twb3N0SURdID0gcHJldlBvc3Q7CiAgICAgICAgcHJldlBvc3QgPSBwb3N0'+
'SUQ7CgogICAgfSk7CgogICAgJCgndGFibGUucmVwbHlwb3N0JykuZWFjaChmdW5jdGlvbihpKXsKICAgICAgICB2YXIgcG9zdElEID0gJCh0aGlzKS5hdHRyKCdpZCcp'+
'LnJlcGxhY2UoJ3Bvc3RfJywgJycpOwoKICAgICAgICBvbGRQb3N0cy5wdXNoKHBvc3RJRCk7CiAgICB9KTsKCiAgICAkLmVhY2goZGlmZmVyZW5jZShvbGRQb3N0cywg'+
'bmV3UG9zdHMpLCBmdW5jdGlvbihpbmRleCwgaXRlbSl7CiAgICAgICAgJCgndGFibGUjcG9zdF8nICsgaXRlbSkuYWRkQ2xhc3MoJ3l1a2lTYXlzUG9zdERlbGV0ZWQn'+
'KTsKCiAgICB9KTsKCiAgICAkLmVhY2goZGlmZmVyZW5jZShuZXdQb3N0cywgb2xkUG9zdHMpLCBmdW5jdGlvbihpbmRleCwgaXRlbSl7CiAgICAgICAgaWYocG9zdFBh'+
'cmVudHNbaXRlbV0gIT0gMCl7CiAgICAgICAgICAgIHZhciBwRWwgPSAkKCd0YWJsZSNwb3N0XycgKyBwb3N0UGFyZW50c1tpdGVtXSk7CiAgICAgICAgICAgIHdoaWxl'+
'KHBFbC5uZXh0KCkuaGFzQ2xhc3MoJ3l1a2lTYXlzUG9zdERlbGV0ZWQnKSl7CiAgICAgICAgICAgICAgICBwRWwgPSBwRWwubmV4dCgpOwogICAgICAgICAgICB9CiAg'+
'ICAgICAgICAgIHBFbC5hZnRlcihuZXdUaHJlYWQuZmlsdGVyKCd0YWJsZSNwb3N0XycgKyBpdGVtKS5maXJzdCgpLmFkZENsYXNzKCd5dWtpU2F5c1Bvc3ROZXcnKS5t'+
'b3VzZWxlYXZlKGZ1bmN0aW9uKGUpewogICAgICAgICAgICAgICAgJChlLmRlbGVnYXRlVGFyZ2V0KS5yZW1vdmVDbGFzcygneXVraVNheXNQb3N0TmV3Jyk7CiAgICAg'+
'ICAgICAgICAgICAkKGUuZGVsZWdhdGVUYXJnZXQpLm9mZignbW91c2VsZWF2ZScpOwogICAgICAgICAgICAgICAgbnVtT2ZOZXdQb3N0cy0tOwogICAgICAgICAgICAg'+
'ICAgeXVraVBsZWFzZVNob3dOdW1VcGRhdGVzKCk7CiAgICAgICAgICAgIH0pKTsKICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgJCgnZGl2Lm9wcG9zdCcpLmFmdGVy'+
'KG5ld1RocmVhZC5maWx0ZXIoJ3RhYmxlI3Bvc3RfJyArIGl0ZW0pLmZpcnN0KCkuYWRkQ2xhc3MoJ3l1a2lTYXlzUG9zdE5ldycpLm1vdXNlbGVhdmUoZnVuY3Rpb24o'+
'ZSl7CiAgICAgICAgICAgICAgICAkKGUuZGVsZWdhdGVUYXJnZXQpLnJlbW92ZUNsYXNzKCd5dWtpU2F5c1Bvc3ROZXcnKTsKICAgICAgICAgICAgICAgICQoZS5kZWxl'+
'Z2F0ZVRhcmdldCkub2ZmKCdtb3VzZWxlYXZlJyk7CiAgICAgICAgICAgICAgICBudW1PZk5ld1Bvc3RzLS07CiAgICAgICAgICAgICAgICB5dWtpUGxlYXNlU2hvd051'+
'bVVwZGF0ZXMoKTsKICAgICAgICAgICAgfSkpOwogICAgICAgIH0KCiAgICAgICAgbnVtT2ZOZXdQb3N0cysrOyAgICAgICAgCiAgICB9KTsKCiAgICBpZih5dWtpUGxl'+
'YXNlUm1vdmVSZXBseUZvcm0pewogICAgICAgIHl1a2lQbGVhc2VSbW92ZVJlcGx5Rm9ybSA9IGZhbHNlOwogICAgICAgIHl1a2lyZXBseUZvcm0ucmVtb3ZlKCk7CiAg'+
'ICAgICAgeXVraXJlcGx5Rm9ybSA9IG51bGw7CiAgICAgICAgZmlsZUxpc3QgPSBbXTsKICAgIH0KCiAgICB5dWtpUGxlYXNlU2hvd051bVVwZGF0ZXMoKTsKCiAgICAK'+
'fTsKCnZhciB5dWtpUGxlYXNTZXRGYXZpY29uID0gZnVuY3Rpb24oaWNvKXsKICAgICQoJ2xpbmtbcmVsPSJzaG9ydGN1dCBpY29uIl0nKS5yZW1vdmUoKTsKICAgICQo'+
'JzxsaW5rIHJlbD0ic2hvcnRjdXQgaWNvbiIgdHlwZT0iaW1hZ2UveC1pY29uIiBocmVmPSInICsgaWNvICsgJyI+JykuYXBwZW5kVG8oImhlYWQiKTsKfTsKCnZhciB5'+
'dWtpTWFrZVJlcGx5Rm9ybSA9IGZ1bmN0aW9uKGNsaWNrLCBib2FyZCwgdGlkLCBwaWQpewogICAgaWYoIXl1a2lyZXBseUZvcm0pewogICAgICAgIHl1a2lyZXBseUZv'+
'cm0gPSAkKCc8Zm9ybSBjbGFzcz0icmVwbHkiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHRleHQtYWxpZ246IGxlZnQ7IiBpZD0ieXVraXBvc3Rmb3JtIiBh'+
'Y3Rpb249Ii9iL3Bvc3QvbmV3LnhodG1sIiBtZXRob2Q9InBvc3QiIGVuY3R5cGU9Im11bHRpcGFydC9mb3JtLWRhdGEiIG9uc3VibWl0PSJyZXR1cm4geXVraVBsZWFz'+
'ZVBvc3QoKSI+JyArIAogICAgICAgICAgICAnPGlucHV0IG5hbWU9InRocmVhZF9pZCIgdmFsdWU9IjI0MTI5NTAiIHR5cGU9ImhpZGRlbiI+PGlucHV0IG5hbWU9InRh'+
'c2siIHZhbHVlPSJwb3N0IiB0eXBlPSJoaWRkZW4iPjxpbnB1dCBpZD0ic2Nyb2xsX3RvIiBuYW1lPSJzY3JvbGxfdG8iIHZhbHVlPSIyNDI2ODQ4IiB0eXBlPSJoaWRk'+
'ZW4iPicgKyAKICAgICAgICAgICAgJzx0YWJsZT48dGJvZHk+PHRyIGlkPSJ0cm5hbWUiPjx0ZCBjbGFzcz0icG9zdGJsb2NrIj7QmNC80Y88L3RkPjx0ZD48aW5wdXQg'+
'bmFtZT0ibmFtZSIgc2l6ZT0iMzAiIHZhbHVlPSLQkNC90L7QvdC40LzRg9GBIiB0eXBlPSJ0ZXh0Ij48c3BhbiBpZD0ieXVraV9zYWdlb2ZmIiBjbGFzcz0ieXVraV9j'+
'bGlja2FibGUiIG9uY2xpY2s9IiQodGhpcykuaGlkZSgpOyAkKFwnI3l1a2lfc2FnZW9uXCcpLnNob3coKTsgJChcJyNpc1NhZ2VcJykuYXR0cihcJ2NoZWNrZWRcJyxc'+
'J2NoZWNrZWRcJyk7Ij4mbmJzcDs8aT4obm8mbmJzcDtzYWdlKTwvaT48L3NwYW4+JyArIAogICAgICAgICAgICAnPHNwYW4gaWQ9Inl1a2lfc2FnZW9uIiBzdHlsZT0i'+
'ZGlzcGxheTogbm9uZTsiIGNsYXNzPSJ5dWtpX2NsaWNrYWJsZSIgb25jbGljaz0iJCh0aGlzKS5oaWRlKCk7ICQoXCcjeXVraV9zYWdlb2ZmXCcpLnNob3coKTsgJChc'+
'JyNpc1NhZ2VcJykucmVtb3ZlQXR0cihcJ2NoZWNrZWRcJyk7Ij4mbmJzcDs8YiBzdHlsZT0iY29sb3I6IHJlZDsiPjxpbWcgc3JjPSJkYXRhOmltYWdlL2dpZjtiYXNl'+
'NjQsUjBsR09EbGhEZ0FPQUlRUUFBWUdBeHNjR2lFaklURXlNTndhRnVFakkra3hNZTVLUy9GY1hmRnFhZlYrZnZhUWovbWlvZmlzclB1MnRQdkR3JyArIAogICAgICAg'+
'ICAgICAnLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL3lIL0MwNUZWRk5EUVZCRk1pNHdBd0VBQUFB'+
'aCtRUUZNZ0FRQUN3QUFBQUFEZ0FPQUFBRmJpQ1VHR1JwSnFMak5FL3JQczZUSEt3ejNFTUFMQXREc291R2tOZGJLRWpCQlc0Z0FDZ1VDT1NRWVV4WVowanFUZEFFR0JD'+
'SGdvR2g0RmtQQjhNQmdTQVlua3NtQUlCMlF4VTRuYmV1UnNEMUNRVmhibXdqQm5NRUJXSUZCRE5wYVFTUmlZb0dJbWtHaW9tUlloQWhBQ0g1QkFVeUFCOEFMQVFBQWdB'+
'R0FBRUFBQVVFNENPT0knICsgCiAgICAgICAgICAgICdRQWgrUVFGTWdBZkFDd0VBQUlBQmdBREFBQUZDK0FnRGdId25XaWpMbXdJQUNINUJBRXlBQjhBTEFRQUJBQUdB'+
'QU1BQUFVTTRDQU9BdkNkNk1Jb1NwS0VBRHM9Ii8+Jm5ic3A7U0FHRTwvYj48L3NwYW4+PHNwYW4gc3R5bGU9ImZsb2F0OiByaWdodDsiPiZuYnNwOzxhIGNsYXNzPSJj'+
'bG9zZSBpY29uIiB0aXRsZT0i0KPQsdGA0LDRgtGMIiBvbmNsaWNrPSJ5dWtpcmVwbHlGb3JtLnJlbW92ZSgpIiA+PGltZyBzcmM9Ii9pbWFnZXMvYmxhbmsucG5nIiBh'+
'bHQ9IlJlbW92ZSIgc3R5bGU9InZlcnRpY2FsLWFsaWduOm1pZGRsZTsgbWluLWhlaWdodDoxN3B4Ij48L2E+PC9zcGFuPjwvdGQ+PC90cj48dHIgc3R5bGU9ImRpc3Bs'+
'YXk6IG5vbmU7IiBpZD0idHJzYWdlIj48dGQgY2xhc3M9InBvc3RibG9jayI+0J3QtSDQv9C+0LTQvdC40LzQsNGC0Ywg0YLRgNC10LQmbmJzcDs8L3RkPjx0ZD48aW5w'+
'dXQgbmFtZT0ic2FnZSIgdHlwZT0iY2hlY2tib3giIGlkPSJpc1NhZ2UiPjwvdGQ+JyArIAogICAgICAgICAgICAnPC90cj48dHIgaWQ9InRyc3ViamVjdCI+PHRkIGNs'+
'YXNzPSJwb3N0YmxvY2siPtCi0LXQvNCwPC90ZD48dGQ+PGlucHV0IG5hbWU9InN1YmplY3QiIHNpemU9IjMwIiBtYXhsZW5ndGg9IjY0IiB2YWx1ZT0iIiB0eXBlPSJ0'+
'ZXh0Ij48aW5wdXQgbmFtZT0ibmV3X3Bvc3QiIHZhbHVlPSLQntGC0L/RgNCw0LLQuNGC0YwiIHR5cGU9InN1Ym1pdCI+PHNwYW4gc3R5bGU9ImZsb2F0OiByaWdodDsi'+
'PjxzcGFuIGlkPSJkZS1idG4tcXVvdGUiIHRpdGxlPSLQptC40YLQuNGA0L7QstCw0YLRjCDQstGL0LTQtdC70LXQvdC90L7QtSIgb25jbGljaz0ieXVraVF1b3RlU2Vs'+
'ZWN0ZWQoKSI+PGlucHV0IHZhbHVlPSI+IiBzdHlsZT0iZm9udC13ZWlnaHQ6IGJvbGQ7IiB0eXBlPSJidXR0b24iPjwvc3Bhbj48L3NwYW4+JyArIAogICAgICAgICAg'+
'ICAnPC90ZD48L3RyPjx0ciBpZD0idHJtZXNzYWdlIj48dGQgY2xhc3M9InBvc3RibG9jayI+0KHQvtC+0LHRidC10L3QuNC1PC90ZD48dGQ+PHRleHRhcmVhIHN0eWxl'+
'PSJwYWRkaW5nOiAwcHg7IHJlc2l6ZTogYm90aDsgIiBpZD0ieXVraXJlcGx5VGV4dCIgbmFtZT0ibWVzc2FnZSIgY29scz0iNjAiIHJvd3M9IjYiIG9ua2V5dXA9IiQo'+
'dGhpcykuY3NzKFwnaGVpZ2h0XCcsIFwnYXV0b1wnICk7ICQodGhpcykuaGVpZ2h0KHRoaXMuc2Nyb2xsSGVpZ2h0ICsgMjQpOyI+PC90ZXh0YXJlYT48YnIvPjxkaXYg'+
'aWQ9ImdhbWVQbGFjZWhvbGRlciI+PC9kaXY+PC90ZD48L3RyPjx0ciBpZD0idHJjYXB0Y2hhIj48dGQgY2xhc3M9InBvc3RibG9jayI+0JrQsNC/0YfQsDwvdGQ+PHRk'+
'PjxzcGFuPjxpbWcgc3JjPSIiIGFsdD0i0JrQsNC/0YfQsCIgaWQ9ImNhcHRjaGEtaW1hZ2UiIG9uY2xpY2s9InJlbG9hZF9jYXB0Y2hhKGV2ZW50KTsiIHN0eWxlPSJt'+
'YXJnaW46IDJweDsgdmVydGljYWwtYWxpZ246bWlkZGxlIj4mbmJzcDs8c3BhbiBvbmNsaWNrPSJ5dWtpQXR0YWNoQ2FwY2hhKHRoaXMpOyIgY2xhc3M9Inl1a2lfY2xp'+
'Y2thYmxlIiB0aXRsZT0i0J/RgNC40LrRgNC10L/QuNGC0Ywg0LrQsNC/0YfRgyIgc3R5bGU9ImNvbG9yOiAjOTk5OyI+WytdPC9zcGFuPjwvc3Bhbj48YnI+JyArIAog'+
'ICAgICAgICAgICAnPGlucHV0IGF1dG9jb21wbGV0ZT0ib2ZmIiBpZD0iY2FwdGNoYSIgbmFtZT0iY2FwdGNoYSIgc2l6ZT0iMzAiIG9uZm9jdXM9InJlbG9hZF9jYXB0'+
'Y2hhKGV2ZW50KTsiIG9ua2V5cHJlc3M9IkNhcHRjaGFQcm9jZXNzKGV2ZW50LCBcJ3J1XCcpIiB0eXBlPSJ0ZXh0IiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPicgKyAK'+
'ICAgICAgICAgICAgJzwvdGQ+PC90cj48dHIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7IiBpZD0idHJyZW1wYXNzIj48dGQgY2xhc3M9InBvc3RibG9jayI+0J/QsNGA0L7Q'+
'u9GMPC90ZD48dGQ+PGlucHV0IG5hbWU9InBhc3N3b3JkIiBzaXplPSIzNSIgdmFsdWU9IjEyMyIgdHlwZT0icGFzc3dvcmQiPicgKyAKICAgICAgICAgICAgJzwvdGQ+'+
'PC90cj48dHIgaWQ9InRyZmlsZSI+PHRkIGNsYXNzPSJwb3N0YmxvY2siPtCk0LDQudC70Ys8L3RkPjx0ZCBpZD0iZmlsZXNfcGFyZW50Ij48aW5wdXQgaWQ9InBvc3Rf'+
'ZmlsZXNfY291bnQiIG5hbWU9InBvc3RfZmlsZXNfY291bnQiIHZhbHVlPSIyIiB0eXBlPSJoaWRkZW4iPicgKyAKICAgICAgICAgICAgJzxkaXYgaWQ9ImZpbGVfMV9k'+
'aXYiPjxpbnB1dCBpZD0iZHVtYl9maWxlX2ZpZWxkIiBvbmNoYW5nZT0ieXVraUFkZEZpbGUoZXZlbnQsIHRoaXMpOyIgdHlwZT0iZmlsZSIgc3R5bGU9InZpc2libGl0'+
'eTpoaWRkZW47IHdpZHRoOiAwcHg7IGhlaWdodDogMHB4OyBwb3NpdGlvbjogYWJzb2x1dGU7IGxlZnQ6IC05MDAxcHg7IiBtdWx0aXBsZSAvPicgKyAKICAgICAgICAg'+
'ICAgJzxpbnB1dCB2YWx1ZT0i0JTQvtCx0LDQstC40YLRjCDRhNCw0LnQu9GLIiB0eXBlPSJidXR0b24iIG9uY2xpY2s9IiQoXCcjZHVtYl9maWxlX2ZpZWxkXCcpLmNs'+
'aWNrKCkiLz4nKwogICAgICAgICAgICAnPHNwYW4gc3R5bGU9ImZvbnQtc2l6ZTogNjYlOyI+Jm5ic3A7PGxhYmVsPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9Inl1'+
'a2lSZW1vdmVFeGlmIiBvbmNoYW5nZT0ieXVraVNldE5ld09wdGlvbnModGhpcyk7IicrKHl1a2lSZW1vdmVFeGlmPyAnIGNoZWNrZWQnOiAnJykrJz4g0KPQsdC40YDQ'+
'sNGC0YwgRXhpZjwvbGFiZWw+ICZuYnNwOzxsYWJlbD48aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJ5dWtpUmVtb3ZlRmlsZU5hbWUiIG9uY2hhbmdlPSJ5dWtpU2V0'+
'TmV3T3B0aW9ucyh0aGlzKTsiJysoeXVraVJlbW92ZUZpbGVOYW1lPyAnIGNoZWNrZWQnOiAnJykrJz4g0KPQsdC40YDQsNGC0Ywg0LjQvNGPINGE0LDQudC70LA8L2xh'+
'YmVsPjwvc3Bhbj4nKwogICAgICAgICAgICAnPGRpdiBpZD0iZmlsZXNfcGxhY2Vob2xkZXIiPjwvZGl2PjwvZGl2PjwvdGQ+PC90cj48dHIgc3R5bGU9ImRpc3BsYXk6'+
'IG5vbmU7IiBpZD0idHJnZXRiYWNrIj4nICsgCiAgICAgICAgICAgICc8dGQgY2xhc3M9InBvc3RibG9jayI+0JLQtdGA0L3Rg9GC0YzRgdGPINC6PC90ZD48dGQ+PHNl'+
'bGVjdCBuYW1lPSJnb3RvIj48b3B0aW9uIHZhbHVlPSJib2FyZCIgc2VsZWN0ZWQ9InNlbGVjdGVkIj7QtNC+0YHQutC1PC9vcHRpb24+PG9wdGlvbiB2YWx1ZT0idGhy'+
'ZWFkIj7RgtGA0LXQtNGDPC9vcHRpb24+JyArIAogICAgICAgICAgICAnPC9zZWxlY3Q+PC90ZD48L3RyPjwvdGJvZHk+PC90YWJsZT48L2Zvcm0+Jyk7CiAgICAgICAg'+
'dXBsb2FkX2hhbmRsZXIgPSAkdCgpKjEwMDAwOwoKICAgICAgICB5dWtpcmVwbHlGb3JtLmZpbmQoIiNjYXB0Y2hhLWltYWdlIikuYXR0cignc3JjJywgIi9jYXB0Y2hh'+
'LyIrIEhhbmFiaXJhLlVSTC5ib2FyZCsiLyIrJHQoKSsnLnBuZycpOwogICAgICAgIHl1a2lyZXBseUZvcm0uZmluZCgiaW5wdXRbbmFtZT0ncGFzc3dvcmQnXSIpLnZh'+
'bCgkKCIudXNlcmRlbGV0ZSBpbnB1dFtuYW1lPSdwYXNzd29yZCddIikudmFsKCkpOwogICAgICAgIHl1a2lyZXBseUZvcm0uZmluZCgiaW5wdXRbbmFtZT0ndGhyZWFk'+
'X2lkJ10iKS52YWwodGlkKTsKICAgICAgICB5dWtpcmVwbHlGb3JtLmZpbmQoImlucHV0W25hbWU9J25hbWUnXSIpLnZhbCgkKCIjcG9zdGZvcm1fcGxhY2Vob2xkZXIg'+
'aW5wdXRbbmFtZT0nbmFtZSddIikudmFsKCkpOwogICAgICAgIGlmKCQoJyNwb3N0Rm9ybURpdiAjY2FwdGNoYScpLmxlbmd0aCA+IDApewogICAgICAgICAgICB5dWtp'+
'cmVwbHlGb3JtLmZpbmQoImlucHV0W25hbWU9J2NhcHRjaGEnXSIpLnNob3coKTsKICAgICAgICB9CgogICAgfQogICAgeXVraXJlcGx5Rm9ybS5maW5kKCJpbnB1dFtu'+
'YW1lPSdzY3JvbGxfdG8nXSIpLnZhbChwaWQgfHwgMCk7CiAgICAkKCcjcG9zdF8nICsgcGlkKS5hZnRlcih5dWtpcmVwbHlGb3JtKTsKCiAgICBJbnNlcnRJbnRvKGRv'+
'Y3VtZW50LmdldEVsZW1lbnRCeUlkKCd5dWtpcmVwbHlUZXh0JyksICI+PiIrcGlkKyJcbiIpOwoKICAgIGlmKCQoY2xpY2spLmhhc0NsYXNzKCd5dWtpUGxheVJldmVy'+
'c2knKSl7CiAgICAgICAgLy9jb25zb2xlLmxvZygicGxheSByZXZlcnNpIik7CiAgICAgICAgeXVraXJlcGx5Rm9ybS5maW5kKCIjZ2FtZVBsYWNlaG9sZGVyIikuZW1w'+
'dHkoKS5hcHBlbmQoJCgnPHNwYW4+Li4u0LfQsNCz0YDRg9C20LDQtdC8INC40LPRgNGDLi4uPC9zcGFuPicpKTsKCiAgICAgICAgdmFyIGdhbWVEYXRhID0gbmV3IElt'+
'YWdlKCk7CiAgICAgICAgZ2FtZURhdGEub25sb2FkID0gZnVuY3Rpb24oKXsKICAgICAgICAgICAgUmV2ZXJzaUdhbWUuaW5pdEJvYXJkKGdhbWVEYXRhLCB0cnVlKTsK'+
'ICAgICAgICAgICAgJCgiI2dhbWVQbGFjZWhvbGRlciBzcGFuIikucmVwbGFjZVdpdGgoUmV2ZXJzaUdhbWUuY3JlYXRlR2FtZUJvYXJkKCkpOwogICAgICAgIH0KCiAg'+
'ICAgICAgZ2FtZURhdGEuc3JjID0gJCgkKGNsaWNrKS5wYXJlbnQoKS5maW5kKCdhJylbMF0pLmF0dHIoJ2hyZWYnKTsKICAgIH0KfTsKCgoKdmFyIGJ5dGVzTWFnbml0'+
'dWRlID0gZnVuY3Rpb24oYnl0ZXMpewogICAgaWYoYnl0ZXMgPCAxMDI0KXsKICAgICAgICByZXR1cm4gYnl0ZXMgKyAnIEInOwogICAgfWVsc2UgaWYgKGJ5dGVzIDwg'+
'MTAyNCAqIDEwMjQpewogICAgICAgIHJldHVybiAoYnl0ZXMgLyAxMDI0KS50b0ZpeGVkKDIpICsgJyBLQic7CiAgICB9ZWxzZXsKICAgICAgICByZXR1cm4gKGJ5dGVz'+
'IC8gMTAyNCAvIDEwMjQpLnRvRml4ZWQoMikgKyAnIE1CJzsKICAgIH0KfQoKdmFyIHl1a2lBZGRGaWxlID0gZnVuY3Rpb24oZXZ0LCBiKXsKICAgIHZhciBmaWxlcyA9'+
'IGV2dC50YXJnZXQuZmlsZXM7IC8vIEZpbGVMaXN0IG9iamVjdAogICAgCiAgICBpZihmaWxlTGlzdC5sZW5ndGggPj0gNSl7CiAgICAgICAgICAgIGFsZXJ0KCfQn9GP'+
'0YLRjCDRhNCw0LnQu9C+0LIg0Y3RgtC+INC80LDQutGB0LjQvNGD0Lwg0L3QsCDQlNC+0LHRgNC+0YfQsNC90LUuJyk7CiAgICAgICAgICAgIHJldHVybjsKICAgIH0K'+
'CiAgICAvLyBMb29wIHRocm91Z2ggdGhlIEZpbGVMaXN0IGFuZCByZW5kZXIgaW1hZ2UgZmlsZXMgYXMgdGh1bWJuYWlscy4KICAgIGZvciAodmFyIGkgPSAwLCBmOyBm'+
'ID0gZmlsZXNbaV07IGkrKykgewogICAgICAgIGlmKGZpbGVMaXN0Lmxlbmd0aCA+PSA1KXsKICAgICAgICAgICAgYWxlcnQoJ9Cf0Y/RgtGMINGE0LDQudC70L7QsiDR'+
'jdGC0L4g0LzQsNC60YHQuNC80YPQvCDQvdCwINCU0L7QsdGA0L7Rh9Cw0L3QtS4nKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICAgIHZhciBmX25h'+
'bWUgPSBmLm5hbWUsIHJlbmFtZWQgPSBmYWxzZTsKICAgICAgICBpZih5dWtpUmVtb3ZlRmlsZU5hbWUpewogICAgICAgICAgICBmX25hbWUgPSAobWFrZVJhbmRJZCgz'+
'MikgKyAoZi5uYW1lLm1hdGNoKC9cLlteXC5dKyQvKSB8fCBbJyddKVswXSkudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgcmVuYW1lZCA9IHRydWU7CiAgICAgICAg'+
'fSAgICAgCgogICAgICAgIGZpbGVMaXN0LnB1c2goewogICAgICAgICAgICBmaWxlOiBmLAogICAgICAgICAgICBmX25hbWU6IGZfbmFtZSwKICAgICAgICAgICAgcmVu'+
'YW1lZDogcmVuYW1lZCwKICAgICAgICAgICAgZWw6ICAgJCgnPGRpdiBjbGFzcz0ieXVraUZpbGUiPjxzcGFuIGNsYXNzPSJ5dWtpX2NsaWNrYWJsZSI+W9GD0LHRgNCw'+
'0YLRjF08L3NwYW4+PGJyLz48ZGl2IGNsYXNzPSJwcmV2aWV3X3N0dWIiPjwvZGl2Pjxici8+PHNwYW4gY2xhc3M9ImZpbGVfbmFtZSI+JysKICAgICAgICAgICAgICAg'+
'IGVzY2FwZShmX25hbWUpKyc8L3NwYW4+PGJyLz48c3BhbiBjbGFzcz0iZmlsZV9uYW1lIj4nKwogICAgICAgICAgICAgICAgYnl0ZXNNYWduaXR1ZGUoZi5zaXplKSsn'+
'Jm5ic3A7PC9zcGFuPjxzZWxlY3QgbmFtZT0iZmlsZV8xX3JhdGluZyIgY2xhc3M9InJhdGluZ19TRlciIG9uY2hhbmdlPVwnJCh0aGlzKS5hdHRyKCJjbGFzcyIsICIi'+
'KS5hZGRDbGFzcygicmF0aW5nXyIgKyAkKHRoaXMpLmNoaWxkcmVuKCI6c2VsZWN0ZWQiKS52YWwoKS5yZXBsYWNlKCItIiwiIikpO1wnPjxvcHRpb24gY2xhc3M9InJh'+
'dGluZ19TRlciPlNGVzwvb3B0aW9uPjxvcHRpb24gY2xhc3M9InJhdGluZ19SMTUiPlItMTU8L29wdGlvbj48b3B0aW9uIGNsYXNzPSJyYXRpbmdfUjE4Ij5SLTE4PC9v'+
'cHRpb24+PG9wdGlvbiBjbGFzcz0icmF0aW5nX1IxOEciPlItMThHPC9vcHRpb24+PC9zZWxlY3Q+PC9kaXY+JykKICAgICAgICB9KTsKCiAgICAgICAgZmlsZUxpc3Rb'+
'ZmlsZUxpc3QubGVuZ3RoIC0gMV0uZWwuZmluZCgnLnl1a2lfY2xpY2thYmxlJykub24oImNsaWNrIiwgKGZ1bmN0aW9uKGRhdGEpewogICAgICAgICAgICByZXR1cm4g'+
'ZnVuY3Rpb24oZSl7CiAgICAgICAgICAgICAgICB2YXIgaWR4ID0gZmlsZUxpc3QuaW5kZXhPZihkYXRhKTsKICAgICAgICAgICAgICAgIGRhdGEuZWwucmVtb3ZlKCk7'+
'CiAgICAgICAgICAgICAgICBkZWxldGUgZmlsZUxpc3RbaWR4XTsKICAgICAgICAgICAgICAgIGZpbGVMaXN0LnNwbGljZShpZHgsIDEpCgogICAgICAgICAgICB9CiAg'+
'ICAgICAgfShmaWxlTGlzdFtmaWxlTGlzdC5sZW5ndGggLSAxXSkpICkKCiAgICAgICAgJCgnI2ZpbGVzX3BsYWNlaG9sZGVyJykuYXBwZW5kKGZpbGVMaXN0W2ZpbGVM'+
'aXN0Lmxlbmd0aCAtIDFdLmVsKTsKCiAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwoKICAgICAgLy8gQ2xvc3VyZSB0byBjYXB0dXJlIHRoZSBmaWxl'+
'IGluZm9ybWF0aW9uLgogICAgICByZWFkZXIub25sb2FkID0gKGZ1bmN0aW9uKHRoZUZpbGUpIHsKICAgICAgICByZXR1cm4gZnVuY3Rpb24oZSkgewogICAgICAgICAg'+
'ICAvLyBSZW5kZXIgdGh1bWJuYWlsLgogICAgICAgICAgICB2YXIgc3BhbiA9ICQoJzxzcGFuPjwvc3Bhbj4nKTsKCiAgICAgICAgICAgIGlmKHl1a2lSZW1vdmVFeGlm'+
'ICYmIHRoZUZpbGUuZmlsZS50eXBlLnRvTG93ZXJDYXNlKCkgPT0gJ2ltYWdlL2pwZWcnKXsKICAgICAgICAgICAgICAgIHRoZUZpbGUuZGF0YVVSTCA9IGpwZWdTdHJp'+
'cEV4dHJhKGUudGFyZ2V0LnJlc3VsdCk7CiAgICAgICAgICAgICAgICB0aGVGaWxlWydqcGVnU3RyaXBwZWQnXSA9IHRydWU7CiAgICAgICAgICAgIH1lbHNlewogICAg'+
'ICAgICAgICAgICAgdGhlRmlsZS5kYXRhVVJMID0gZS50YXJnZXQucmVzdWx0OwogICAgICAgICAgICAgICAgdGhlRmlsZVsnanBlZ1N0cmlwcGVkJ10gPSBmYWxzZTsK'+
'ICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHRoZUZpbGUuZmlsZS50eXBlLm1hdGNoKCdpbWFnZS4qJykpIHsKICAgICAgICAgICAgICAgIHRoZUZpbGUuZWwu'+
'ZmluZCgnLnByZXZpZXdfc3R1YicpLnJlcGxhY2VXaXRoKCQoJzxpbWcgLz4nKS5hdHRyKCdzcmMnLCB0aGVGaWxlLmRhdGFVUkwpKTsgICAgICAgICAgICAgICAgCiAg'+
'ICAgICAgICAgIH0gICAgICAgICAgICAKICAgICAgICB9OwogICAgICB9KShmaWxlTGlzdFtmaWxlTGlzdC5sZW5ndGggLSAxXSk7CgogICAgICAvLyBSZWFkIGluIHRo'+
'ZSBpbWFnZSBmaWxlIGFzIGEgZGF0YSBVUkwuCiAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGYpOwogICAgfQp9CgpmdW5jdGlvbiBkYXRhVVJMdG9CbG9iKGRhdGFV'+
'UkwsIGRhdGFUeXBlKSB7CiAgLy8gRGVjb2RlIHRoZSBkYXRhVVJMICAgIAogIHZhciBiaW5hcnkgPSBhdG9iKGRhdGFVUkwuc3BsaXQoJywnKVsxXSk7CiAgLy8gQ3Jl'+
'YXRlIDgtYml0IHVuc2lnbmVkIGFycmF5CiAgdmFyIGFycmF5ID0gW107CiAgZm9yKHZhciBpID0gMDsgaSA8IGJpbmFyeS5sZW5ndGg7IGkrKykgewogICAgICBhcnJh'+
'eS5wdXNoKGJpbmFyeS5jaGFyQ29kZUF0KGkpKTsKICB9CiAgLy8gUmV0dXJuIG91ciBCbG9iIG9iamVjdAogIHJldHVybiBuZXcgQmxvYihbbmV3IFVpbnQ4QXJyYXko'+
'YXJyYXkpXSwge3R5cGU6IGRhdGFUeXBlfSk7Cn07Cgp2YXIgeXVraVBsZWFzZVBvc3QgPSBmdW5jdGlvbigpewogICAgdmFyIGZvcm1EYXRhID0gJCgnI3l1a2lwb3N0'+
'Zm9ybScpLnNlcmlhbGl6ZUFycmF5KCksCiAgICAgICAgZmQgPSBuZXcgRm9ybURhdGEoKTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZvcm1EYXRhLmxlbmd0aDsg'+
'aSsrKSB7CiAgICAgICAgZmQuYXBwZW5kKGZvcm1EYXRhW2ldLm5hbWUsIGZvcm1EYXRhW2ldLnZhbHVlKTsgICAgICAgIAogICAgfTsKCiAgICBmb3IgKHZhciBpID0g'+
'MDsgaSA8IGZpbGVMaXN0Lmxlbmd0aDsgaSsrKSB7CgogICAgICAgIGlmKHl1a2lSZW1vdmVFeGlmICYmIGZpbGVMaXN0W2ldLmZpbGUudHlwZS50b0xvd2VyQ2FzZSgp'+
'ID09ICdpbWFnZS9qcGVnJyAmJiAhZmlsZUxpc3RbaV0uanBlZ1N0cmlwcGVkKXsKICAgICAgICAgICAgZmlsZUxpc3RbaV0uZGF0YVVSTCA9IGpwZWdTdHJpcEV4dHJh'+
'KGZpbGVMaXN0W2ldLmRhdGFVUkwpOyAgIAogICAgICAgIH0KCiAgICAgICAgaWYoeXVraVJlbW92ZUZpbGVOYW1lICYmICFmaWxlTGlzdFtpXS5yZW5hbWVkKXsKICAg'+
'ICAgICAgICAgZmlsZUxpc3RbaV0uZl9uYW1lID0gKG1ha2VSYW5kSWQoMzIpICsgKGZpbGVMaXN0W2ldLmZfbmFtZS5tYXRjaCgvXC5bXlwuXSskLykgfHwgWycnXSlb'+
'MF0pLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgfSAgCgogICAgICAgIGZkLmFwcGVuZCgiZmlsZV8iICsgKGkrMSksIGRhdGFVUkx0b0Jsb2IoZmlsZUxpc3RbaV0uZGF0'+
'YVVSTCwgZmlsZUxpc3RbaV0uZmlsZS50eXBlKSwgZmlsZUxpc3RbaV0uZl9uYW1lKTsKICAgICAgICBmZC5hcHBlbmQoImZpbGVfIiArIChpKzEpICsgIl9yYXRpbmci'+
'LCBmaWxlTGlzdFtpXS5lbC5maW5kKCJzZWxlY3RbbmFtZT0nZmlsZV8xX3JhdGluZyddIikudmFsKCkpOyAgICAgICAKICAgIH07CiAgICBmZC5hcHBlbmQoInBvc3Rf'+
'ZmlsZXNfY291bnQiLCBmaWxlTGlzdC5sZW5ndGgpOwoKICAgIHl1a2lJc1Bvc3RpbmcgPSB0cnVlOwogICAgY2xlYXJUaW1lb3V0KHVwZGF0ZUhlYXJ0QmVhdCk7ICAK'+
'ICAgIHl1a2lyZXBseUZvcm0uZmluZCgiaW5wdXRbdHlwZT1zdWJtaXRdIikudmFsKCcuLtCg0LDQsdC+0YLQsNC10LwuLi4nKS5hdHRyKCJkaXNhYmxlZCIsICJkaXNh'+
'YmxlZCIpOzsKCiAgICAkLmFqYXgoewogICAgICAgIHVybDogJy8nICsgSGFuYWJpcmEuVVJMLmJvYXJkICsgJy9wb3N0L25ldy54aHRtbCcgKyAiP1gtUHJvZ3Jlc3Mt'+
'SUQ9IiArIHVwbG9hZF9oYW5kbGVyLAogICAgICAgIHR5cGU6ICdQT1NUJywKICAgICAgICBkYXRhOiBmZCwKICAgICAgICBwcm9jZXNzRGF0YTogZmFsc2UsCiAgICAg'+
'ICAgY29udGVudFR5cGU6IGZhbHNlLAogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEsIHRleHRTdGF0dXMsIGpxWEhSKSB7CiAgICAgICAgICAgIGlmKEhhbmFi'+
'aXJhLlVSTC50aHJlYWQgJiYgZGF0YS5pbmRleE9mKCIvZXJyb3IvcG9zdC8iKSA9PSAtMSl7CiAgICAgICAgICAgICAgICB5dWtpSXNQb3N0aW5nID0gZmFsc2U7CiAg'+
'ICAgICAgICAgICAgICB5dWtpUGxlYXNlUm1vdmVSZXBseUZvcm0gPSB0cnVlOwogICAgICAgICAgICAgICAgeXVraVBsZWFzZUNoZWNrVXBkYXRlcygpOwogICAgICAg'+
'ICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmxvY2F0aW9uLmhyZWYgPSBkYXRhLm1hdGNoKC9cKFwnKC4rKVwnXCkvKVsxXTsKICAgICAgICAgICAg'+
'fQogICAgICAgIH0sCiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikgewogICAgICAgICAgICAgIHl1a2lJc1Bvc3Rp'+
'bmcgPSB0cnVlOwogICAgICAgICAgICAgIHl1a2lyZXBseUZvcm0uZmluZCgiaW5wdXRbdHlwZT1zdWJtaXRdIikudmFsKCfQntGC0L/RgNCw0LLQuNGC0YwnKS5yZW1v'+
'dmVBdHRyKCJkaXNhYmxlZCIpOwogICAgICAgICAgICAgIGFsZXJ0KCfQndC1INC/0L7Qu9GD0YfQuNC70L7RgdGMINC+0YLQv9GA0LDQstC40YLRjCDQv9C+0YHRgi5c'+
'btCf0L7Qv9GA0L7QsdGD0LnRgtC1INGH0YPRgtGMINC/0L7Qv9C+0LfQttC1INC10YnRkSDRgNCw0LfQvtC6INC40LvQuCDQv9C10YDQtdC30LDQs9GA0YPQt9C40YLR'+
'jCDRgdGC0YDQsNC90LjRhtGDLlxuXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuJyArIHRleHRTdGF0dXMpOwogICAgICAgICAgICB9CiAgICB9KTsKCiAg'+
'ICByZXR1cm4gZmFsc2U7Cn07Cgp5dWtpUXVvdGVTZWxlY3RlZCA9IGZ1bmN0aW9uKCl7CiAgdmFyIHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgneXVraXJlcGx5'+
'VGV4dCcpOwogICAgSW5zZXJ0SW50byh0LCAnPicrd2luZG93LmdldFNlbGVjdGlvbigpLnRvU3RyaW5nKCkucmVwbGFjZSgvXG4vZ20sICdcbj4nKSsnXG4nKTsKfQoK'+
'dmFyIFJldmVyc2lHYW1lID0gKGZ1bmN0aW9uICgpIHsKICAndXNlIHN0cmljdCc7CgogIHZhciBteSA9IHt9LAogICAgICByZXZlcnNpQm9hcmQgPSBbXSwKICAgICAg'+
'YmxhY2tzID0gMSwgCiAgICAgIHdoaXRlcyA9IDIsIAogICAgICBjdXJyZW50ID0gYmxhY2tzLAogICAgICBzdGFydGVkQXMgPSBjdXJyZW50LAogICAgICBtb3Zlcz1b'+
'XSwgCiAgICAgIHN0YXJ0UG9zID0gcmV2ZXJzaUJvYXJkOwoKICB2YXIgcmV2ZXJzaU1vdmUgPSBmdW5jdGlvbih4LCB5LCBkb01vdmUsIGNvbG9yKXsKICAgIGlmKCFj'+
'b2xvcil7IAogICAgICBjb2xvciA9IGN1cnJlbnQgCiAgICB9CiAgICBpZighZG9Nb3ZlKXsgCiAgICAgIGRvTW92ZSA9IGZhbHNlIAogICAgfQoKICAgIHZhciBpbmRl'+
'eCA9IHkgKiA4ICsgeDsKICAgIC8vY29uc29sZS5sb2coJ2NoZWNrIGZvciAnICt4KycsICcgKyB5ICsgJyAoJyAraW5kZXgrJyknKTsKCiAgICBpZihyZXZlcnNpQm9h'+
'cmRbaW5kZXhdICE9IDApewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgdmFyIGNoZWNrRGlyZWN0aW9uID0gZnVuY3Rpb24gKGR4LCBkeSl7CiAgICAgIGlm'+
'KGR4ID09IDAgJiYgZHkgPT0gMCl7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICB2YXIgY3ggPSB4ICsgZHgsIGN5ID0geSArIGR5LCBjaWR4ID0g'+
'Y3kgKiA4ICsgY3g7CgogICAgICBpZihjeCA8IDB8fCAgY3ggPiA3IHx8ICBjeSA8IDAgfHwgIGN5ID4gNyB8fCAKICAgICAgICAgIHJldmVyc2lCb2FyZFtjaWR4XSA9'+
'PSAwIHx8IHJldmVyc2lCb2FyZFtjaWR4XSA9PSBjb2xvcil7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICB3aGlsZShjeCA+PSAwICYmIGN4IDw9'+
'IDcgJiYgY3kgPj0gMCAmJiBjeSA8PSA3KXsKICAgICAgICBpZihyZXZlcnNpQm9hcmRbY2lkeF0gPT0gY29sb3IpewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAg'+
'ICAgfQogICAgICAgIGlmKHJldmVyc2lCb2FyZFtjaWR4XSA9PSAwKXsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgY3ggKz0gZHg7CiAg'+
'ICAgICAgY3kgKz0gZHk7CiAgICAgICAgY2lkeCA9IGN5ICogOCArIGN4CiAgICAgIH0KCiAgICAgIHJldHVybiBmYWxzZQogICAgfQoKICAgIHZhciBkb0RpcmVjdGlv'+
'biA9IGZ1bmN0aW9uIChkeCwgZHkpewogICAgICB2YXIgY3ggPSB4ICsgZHgsIGN5ID0geSArIGR5LCBjaWR4ID0gY3kgKiA4ICsgY3g7CgogICAgICByZXZlcnNpQm9h'+
'cmRbeSAqIDggKyB4XSA9IGNvbG9yOwoKICAgICAgd2hpbGUoY3ggPj0gMCAmJiBjeCA8PSA3ICYmIGN5ID49IDAgJiYgY3kgPD0gNyl7CiAgICAgICAgaWYocmV2ZXJz'+
'aUJvYXJkW2NpZHhdID09IGNvbG9yKXsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KCiAgICAgICAgcmV2ZXJzaUJvYXJkW2NpZHhdID0gY29sb3I7CiAg'+
'ICAgICAgCiAgICAgICAgY3ggKz0gZHg7CiAgICAgICAgY3kgKz0gZHk7CiAgICAgICAgY2lkeCA9IGN5ICogOCArIGN4CiAgICAgIH0KICAgICAgCiAgICAgIHJldHVy'+
'biBmYWxzZQogICAgfQoKICAgIGZvcih2YXIgaSA9IC0xOyBpIDwgMjsgaSsrKXsKICAgICAgZm9yKHZhciBqID0gLTE7IGogPCAyOyBqKyspewogICAgICAgIGlmKGNo'+
'ZWNrRGlyZWN0aW9uKGksaikpewogICAgICAgICAgaWYoZG9Nb3ZlKXsKICAgICAgICAgICAgZG9EaXJlY3Rpb24oaSxqKTsKICAgICAgICAgIH1lbHNlewogICAgICAg'+
'ICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gICAgCiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgdmFyIGNoZWNrQ2Fu'+
'TW92ZSA9IGZ1bmN0aW9uKGNvbG9yKXsKICAgIGZvcih2YXIgaSA9IDA7IGkgPCA4OyBpKyspewogICAgICBmb3IodmFyIGogPSAwOyBqIDwgODsgaisrKXsKICAgICAg'+
'ICBpZihyZXZlcnNpTW92ZShpLGosIGZhbHNlLCBjb2xvcikpewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICB9ICAgIAogICAgfQogICAgcmV0'+
'dXJuIGZhbHNlOwogIH0KCiAgbXkuaW5pdEJvYXJkID0gZnVuY3Rpb24gKGluaXRNb3ZlcywgZnJvbUltYWdlKSB7CiAgICByZXZlcnNpQm9hcmQgPSBbMCwgMCwgMCwg'+
'MCwgMCwgMCwgMCwgMCwgCiAgICAgICAgICAgICAgICAgICAgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgCiAgICAgICAgICAgICAgICAgICAgMCwgMCwgMCwgMCwgMCwg'+
'MCwgMCwgMCwgCiAgICAgICAgICAgICAgICAgICAgMCwgMCwgMCwgMiwgMSwgMCwgMCwgMCwgCiAgICAgICAgICAgICAgICAgICAgMCwgMCwgMCwgMSwgMiwgMCwgMCwg'+
'MCwgCiAgICAgICAgICAgICAgICAgICAgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgCiAgICAgICAgICAgICAgICAgICAgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgCiAg'+
'ICAgICAgICAgICAgICAgICAgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF07CiAgICBibGFja3MgPSAxOwogICAgd2hpdGVzID0gMjsgCiAgICBjdXJyZW50ID0gMTsgCiAg'+
'ICBtb3Zlcz1bXTsKCiAgICBpZihmcm9tSW1hZ2UpewogICAgICB2YXIgYnVmZmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgICAgICAgICBi'+
'dWZmZXIud2lkdGggPSA2MDA7CiAgICAgICAgICBidWZmZXIuaGVpZ2h0ID0gNjAwOwogICAgICB2YXIgY3R4QiA9IGJ1ZmZlci5nZXRDb250ZXh0KCcyZCcpLCAKICAg'+
'ICAgICAgIG51bU9mTW92ZXMgPSAwLAogICAgICAgICAgaW1nTW92ZXMgPSBbXSwKICAgICAgICAgIGNvbG9yQXNOdW0gPSBmdW5jdGlvbihyLCBnLCBiKXsKICAgICAg'+
'ICAgICAgcmV0dXJuICgyNTUgLSByICkgfCAoKDI1NSAtIGcpIDw8IDIpIHwgKCgyNTUgLSBiKSA8PCA0KTsgICAKICAgICAgICAgIH07CgogICAgICBjdHhCLmRyYXdJ'+
'bWFnZShpbml0TW92ZXMsIDAsIDApOwogICAgICB2YXIgaW1hZ2VEYXRhID0gY3R4Qi5nZXRJbWFnZURhdGEoMCwwLGJ1ZmZlci53aWR0aCwgYnVmZmVyLmhlaWdodCk7'+
'CiAgICAgIGN0eEIucHV0SW1hZ2VEYXRhKGltYWdlRGF0YSwgMCwgMCk7CgogICAgICBudW1PZk1vdmVzID0gY29sb3JBc051bShpbWFnZURhdGEuZGF0YVswXSwgaW1h'+
'Z2VEYXRhLmRhdGFbMV0sIGltYWdlRGF0YS5kYXRhWzJdKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtT2ZNb3ZlczsgaSsrKSB7CiAgICAgICAgaW1nTW92'+
'ZXMucHVzaChjb2xvckFzTnVtKGltYWdlRGF0YS5kYXRhWzQgKyBpICogNF0sIGltYWdlRGF0YS5kYXRhWzUgKyBpICogNF0sIGltYWdlRGF0YS5kYXRhWzYgKyBpICog'+
'NF0pKTsKICAgICAgfQoKICAgICAgaW5pdE1vdmVzID0gaW1nTW92ZXM7CiAgICB9CgogICAgaWYoaW5pdE1vdmVzICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcu'+
'Y2FsbCggaW5pdE1vdmVzICkgPT09ICdbb2JqZWN0IEFycmF5XScgJiYgaW5pdE1vdmVzLmxlbmd0aCA+IDApIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbml0'+
'TW92ZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgaW5kZXggPSBpbml0TW92ZXNbaV07CgogICAgICAgIGlmKHJldmVyc2lNb3ZlKGluZGV4ICUgOCwgTWF0aC5m'+
'bG9vcihpbmRleCAvIDgpKSl7CiAgICAgICAgICByZXZlcnNpTW92ZShpbmRleCAlIDgsIE1hdGguZmxvb3IoaW5kZXggLyA4KSwgdHJ1ZSk7CiAgICAgICAgICBtb3Zl'+
'cy5wdXNoKGluZGV4KTsKICAgICAgICAgIAogICAgICAgICAgaWYoY2hlY2tDYW5Nb3ZlKGN1cnJlbnQgPT0gYmxhY2tzP3doaXRlczpibGFja3MpKXsKICAgICAgICAg'+
'ICAgc3RhcnRlZEFzID0gY3VycmVudCA9IChjdXJyZW50ID09IGJsYWNrcz93aGl0ZXM6YmxhY2tzKTsKICAgICAgICAgIH0KICAgICAgICB9ZWxzZXsKICAgICAgICAg'+
'IGJyZWFrOwogICAgICAgIH0KICAgICAgfSAgICAKICAgIH0KICB9OwoKICBteS5nZXRCb2FyZCA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciByZXN1bHQgPSBbXTsKICAg'+
'IGZvciAodmFyIGkgPSAwOyBpIDwgcmV2ZXJzaUJvYXJkLmxlbmd0aDsgaSsrKSB7CiAgICAgIHJlc3VsdC5wdXNoKHJldmVyc2lCb2FyZFtpXSA9PSAwID8gJ2VtcHR5'+
'JyA6IHJldmVyc2lCb2FyZFtpXSA9PSBibGFja3MgPyAnYmxhY2snOiAnd2hpdGUnKTsKICAgIH07CgogICAgcmV0dXJuIHJlc3VsdDsKICB9OwoKICBteS5nZXRNb3Zl'+
'cyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBtb3ZlczsKICB9OwoKICBteS5nZXRDdXJyZW50Q29sb3IgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gY3VycmVu'+
'dCA9PSBibGFja3M/ICdibGFjaycgOiAnd2hpdGUnOwogIH07CgogIG15Lm1ha2VNb3ZlID0gZnVuY3Rpb24gKHgsIHkpIHsKICAgaWYoc3RhcnRlZEFzICE9IGN1cnJl'+
'bnQpewogICAgICAgcmV0dXJuIGZhbHNlOwogICB9CiAgICBpZihyZXZlcnNpTW92ZSh4LCB5KSl7CiAgICAgIHJldmVyc2lNb3ZlKHgsIHksIHRydWUpOwogICAgICBt'+
'b3Zlcy5wdXNoKHkgKiA4ICsgeCk7CiAgICAgIAogICAgICBpZihjaGVja0Nhbk1vdmUoY3VycmVudCA9PSBibGFja3M/d2hpdGVzOmJsYWNrcykpewogICAgICAgIGN1'+
'cnJlbnQgPSAoY3VycmVudCA9PSBibGFja3M/d2hpdGVzOmJsYWNrcyk7CiAgICAgIH0KICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwog'+
'IH07CgogIHZhciBnZXRTdGF0cyA9IG15LmdldFN0YXRzID0gZnVuY3Rpb24gKCkgewogICAgdmFyIGNvdW50QmxhY2tzID0gMCwgY291bnRXaGl0ZXMgPSAwLCBjb3Vu'+
'dEVtcHR5ID0gMDsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmV2ZXJzaUJvYXJkLmxlbmd0aDsgaSsrKSB7CiAgICAgIGlmKHJldmVyc2lCb2FyZFtpXSA9PSBibGFj'+
'a3MpewogICAgICAgIGNvdW50QmxhY2tzKys7ICAKICAgICAgfWVsc2UgaWYocmV2ZXJzaUJvYXJkW2ldID09IHdoaXRlcyl7CiAgICAgICAgY291bnRXaGl0ZXMrKzsK'+
'ICAgICAgfWVsc2V7CiAgICAgICAgY291bnRFbXB0eSsrOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHsiYmxhY2tzIjogY291bnRCbGFja3MsICJ3aGl0ZXMiOiBj'+
'b3VudFdoaXRlcywgImVtcHR5IjogY291bnRFbXB0eX07CiAgfTsKCiAgbXkuZHJhd0NhbnZhcyA9IGZ1bmN0aW9uKCl7CiAgICB2YXIgYnVmZmVyID0gZG9jdW1lbnQu'+
'Y3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgICAgICAgYnVmZmVyLndpZHRoID0gNjAwOwogICAgICAgIGJ1ZmZlci5oZWlnaHQgPSA2MDA7CiAgICB2YXIgY3R4QiA9'+
'IGJ1ZmZlci5nZXRDb250ZXh0KCcyZCcpLAogICAgICAgIHN0YXRzID0gZ2V0U3RhdHMoKTsKCiAgICBjdHhCLmZpbGxTdHlsZSA9ICd3aGl0ZSc7CiAgICBjdHhCLmZp'+
'bGxSZWN0KDAsIDAsIDYwMCwgNjAwKTsKICAgIGN0eEIuZmlsbFN0eWxlID0gJyMwOTAnOwogICAgY3R4Qi5maWxsUmVjdCgxMDAsIDEwMCwgNDAwLCA0MDApOwoKCiAg'+
'ICBjdHhCLnN0cm9rZVN0eWxlID0gJ3JnYmEoMCwwLDAsMC41KSc7CiAgICBjdHhCLmxpbmVXaWR0aCAgID0gMjsKICAgIGN0eEIubGluZUNhcCA9ICJyb3VuZCI7Cgog'+
'ICAgZm9yKHZhciBpID0gMDsgaSA8IDk7IGkrKyl7ICAgICAgICAKCiAgICAgICAgY3R4Qi5iZWdpblBhdGgoKTsKICAgICAgICBjdHhCLm1vdmVUbygxMDAsIDEwMCAr'+
'IDUwICogaSk7IAogICAgICAgIGN0eEIubGluZVRvKDUwMCwgMTAwICsgNTAgKiBpKTsKCiAgICAgICAgY3R4Qi5zdHJva2UoKTsKICAgICAgICBjdHhCLmNsb3NlUGF0'+
'aCgpOwoKICAgICAgICBjdHhCLmJlZ2luUGF0aCgpOwogICAgICAgIGN0eEIubW92ZVRvKDEwMCArIDUwICogaSwgMTAwKTsgCiAgICAgICAgY3R4Qi5saW5lVG8oMTAw'+
'ICsgNTAgKiBpLCA1MDApOwoKICAgICAgICBjdHhCLnN0cm9rZSgpOwogICAgICAgIGN0eEIuY2xvc2VQYXRoKCk7CgogICAgfQoKCgogICAgZm9yICh2YXIgaSA9IDA7'+
'IGkgPCByZXZlcnNpQm9hcmQubGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKHJldmVyc2lCb2FyZFtpXSAhPSAwKXsKICAgICAgICBjdHhCLmJlZ2luUGF0aCgpOwogICAg'+
'ICAgIGN0eEIuYXJjKDEyNSArIChpICUgOCkgKiA1MCArIDIsIDEyNSArIE1hdGguZmxvb3IoaSAvIDgpICogNTAgKyAyLCAyMCwgMCwgMiAqIE1hdGguUEksIGZhbHNl'+
'KTsKICAgICAgICBjdHhCLmZpbGxTdHlsZSA9ICdyZ2JhKDAsMCwwLDAuMyknOwogICAgICAgIGN0eEIuZmlsbCgpOwogICAgICAgIGN0eEIuY2xvc2VQYXRoKCk7Cgog'+
'ICAgICAgIGN0eEIuYmVnaW5QYXRoKCk7CiAgICAgICAgY3R4Qi5hcmMoMTI1ICsgKGkgJSA4KSAqIDUwLCAxMjUgKyBNYXRoLmZsb29yKGkgLyA4KSAqIDUwLCAyMCwg'+
'MCwgMiAqIE1hdGguUEksIGZhbHNlKTsKICAgICAgICBjdHhCLmZpbGxTdHlsZSA9IHJldmVyc2lCb2FyZFtpXSA9PSBibGFja3MgPyAnIzAwMCcgOiAnI2ZmZic7CiAg'+
'ICAgICAgY3R4Qi5maWxsKCk7CiAgICAgICAgY3R4Qi5jbG9zZVBhdGgoKTsKICAgICAgfQogICAgfTsKCiAgICBpZihzdGFydGVkQXMgPT0gY3VycmVudCl7CiAgICAg'+
'IGN0eEIuc3Ryb2tlU3R5bGUgPSAncmdiYSgwLCAwLCAwLCAwLjIpJzsKICAgICAgY3R4Qi5maWxsU3R5bGUgPSAncmdiYSgwLCAwLCAwLCAwLjEpJzsKICAgICAgZm9y'+
'ICh2YXIgaSA9IDA7IGkgPCByZXZlcnNpQm9hcmQubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZihyZXZlcnNpTW92ZSgoaSAlIDgpLCBNYXRoLmZsb29yKGkgLyA4KSkp'+
'ewogICAgICAgICAgY3R4Qi5iZWdpblBhdGgoKTsKICAgICAgICAgIGN0eEIuYXJjKDEyNSArIChpICUgOCkgKiA1MCArIDIsIDEyNSArIE1hdGguZmxvb3IoaSAvIDgp'+
'ICogNTAgKyAyLCAxMCwgMCwgMiAqIE1hdGguUEksIGZhbHNlKTsKICAgICAgICAgIGN0eEIuZmlsbCgpOwogICAgICAgICAgY3R4Qi5zdHJva2UoKTsKICAgICAgICAg'+
'IGN0eEIuY2xvc2VQYXRoKCk7CiAgICAgICAgfQogICAgICB9OwogICAgfQoKCiAgICBjdHhCLmZpbGxTdHlsZSA9ICdibGFjayc7CiAgICBjdHhCLnRleHRBbGlnbiA9'+
'ICJsZWZ0IjsKICAgIAogICAgaWYoY2hlY2tDYW5Nb3ZlKGJsYWNrcykgfHwgY2hlY2tDYW5Nb3ZlKHdoaXRlcykpewogICAgICBjdHhCLmZvbnQgPSBjdXJyZW50ID09'+
'IHdoaXRlcyA/ICJib2xkIDIwcHQgVmVyZGFuYSI6ICIyMHB0IFZlcmRhbmEiOwogICAgICBjdHhCLmZpbGxUZXh0KChjdXJyZW50ID09IHdoaXRlcyA/ICc+ICc6ICcn'+
'KSArICfQkdC10LvRi9C1OiAnICsgc3RhdHMud2hpdGVzLCAxMDAsIDU1MCk7CiAgICAgIGN0eEIudGV4dEFsaWduID0gInJpZ2h0IjsKICAgICAgY3R4Qi5mb250ID0g'+
'Y3VycmVudCA9PSBibGFja3MgPyAiYm9sZCAyMHB0IFZlcmRhbmEiOiAiMjBwdCBWZXJkYW5hIjsKICAgICAgY3R4Qi5maWxsVGV4dCgoY3VycmVudCA9PSBibGFja3Mg'+
'PyAnPiAnOiAnJykgKyAn0KfRkdGA0L3Ri9C1OiAnICsgc3RhdHMuYmxhY2tzLCA1MDAsIDU1MCk7CiAgICB9ZWxzZXsKICAgICAgY3R4Qi5maWxsU3R5bGUgPSBzdGF0'+
'cy5ibGFja3MgPCBzdGF0cy53aGl0ZXMgPyAncmVkJyA6ICdibGFjayc7CiAgICAgIGN0eEIuZm9udCA9IHN0YXRzLmJsYWNrcyA8IHN0YXRzLndoaXRlcyA/ICJib2xk'+
'IDIwcHQgVmVyZGFuYSI6ICIyMHB0IFZlcmRhbmEiOwogICAgICBjdHhCLmZpbGxUZXh0KCfQkdC10LvRi9C1OiAnICsgc3RhdHMud2hpdGVzLCAxMDAsIDU1MCk7CiAg'+
'ICAgIGN0eEIudGV4dEFsaWduID0gInJpZ2h0IjsKICAgICAgY3R4Qi5maWxsU3R5bGUgPSBzdGF0cy5ibGFja3MgPiBzdGF0cy53aGl0ZXMgPyAncmVkJyA6ICdibGFj'+
'ayc7CiAgICAgIGN0eEIuZm9udCA9IHN0YXRzLmJsYWNrcyA+IHN0YXRzLndoaXRlcyA/ICJib2xkIDIwcHQgVmVyZGFuYSI6ICIyMHB0IFZlcmRhbmEiOwogICAgICBj'+
'dHhCLmZpbGxUZXh0KCfQp9GR0YDQvdGL0LU6ICcgKyBzdGF0cy5ibGFja3MsIDUwMCwgNTUwKTsKICAgICAgY3R4Qi5maWxsU3R5bGUgPSAncmVkJzsKICAgIH0KCgog'+
'ICAgCiAgICBjdHhCLmZvbnQgPSAiYm9sZCA0MHB0IENvbWljIFNhbnMgTVMiOwogICAgY3R4Qi50ZXh0QWxpZ24gPSAibGVmdCI7CiAgICBjdHhCLmZpbGxUZXh0KCdS'+
'ZXZlcnNpJywgMTAwLCA3MCk7CgogICAgdmFyIG51bUFzQ29sb3IgPSBmdW5jdGlvbihudW0pewogICAgICByZXR1cm4gInJnYigiICsgKDI1NSAtIChudW0gJiAzKSkg'+
'KyAiLCIgKyAoMjU1IC0gKChudW0gPj4gMiApICYgMykpICsgIiwiICsgKDI1NSAtICgobnVtID4+IDQgKSAmIDMpKSArJyknOwogICAgfQoKICAgIGN0eEIuZmlsbFN0'+
'eWxlID0gbnVtQXNDb2xvcihtb3Zlcy5sZW5ndGgpOwogICAgY3R4Qi5maWxsUmVjdCgwLCAwLCAxLCAxKTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1vdmVzLmxl'+
'bmd0aDsgaSsrKSB7CiAgICAgIGN0eEIuZmlsbFN0eWxlID0gbnVtQXNDb2xvcihtb3Zlc1tpXSk7CiAgICAgIGN0eEIuZmlsbFJlY3QoMSArIGksIDAsIDEsIDEpOwog'+
'ICAgfTsKCiAgICByZXR1cm4gYnVmZmVyOwogIH07CgogIG15LmNyZWF0ZUdhbWVCb2FyZCA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBidWZmZXIgPSBkb2N1bWVudC5j'+
'cmVhdGVFbGVtZW50KCdjYW52YXMnKTsKICAgICAgICBidWZmZXIud2lkdGggPSA2MDA7CiAgICAgICAgYnVmZmVyLmhlaWdodCA9IDYwMDsKICAgIHZhciBjdHhCID0g'+
'YnVmZmVyLmdldENvbnRleHQoJzJkJyksCiAgICAgICAgZWxCb2FyZCA9ICQoYnVmZmVyKTsKICAgIAogICAgY3R4Qi5kcmF3SW1hZ2UobXkuZHJhd0NhbnZhcygpLCAw'+
'LCAwKTsKCiAgICBlbEJvYXJkLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpewogICAgICB2YXIgY2FudmFzWCA9IGUuY2xpZW50WCAtIHRoaXMuZ2V0Qm91bmRpbmdDbGll'+
'bnRSZWN0KCkubGVmdCwKICAgICAgICAgIGNhbnZhc1kgPSBlLmNsaWVudFkgLSB0aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCwgICAgICAgICAKICAgICAg'+
'ICAgIGN4ID0gTWF0aC5mbG9vcigoY2FudmFzWCAtIDEwMCkgLyA1MCksIGN5ID0gTWF0aC5mbG9vcigoY2FudmFzWSAtIDEwMCkgLyA1MCk7CgogICAgICBpZihteS5t'+
'YWtlTW92ZShjeCwgY3kpKXsKICAgICAgICBjdHhCLmRyYXdJbWFnZShteS5kcmF3Q2FudmFzKCksIDAsIDApOwogICAgICB9CgogICAgfSk7CgogICAgcmV0dXJuICQo'+
'JzxwIHN0eWxlPSJ0ZXh0LWFsaWduOiBjZW50ZXI7Ij48L3A+JykuYXBwZW5kKGVsQm9hcmQpLmFwcGVuZCgkKCc8YnIvPjxpbnB1dCB2YWx1ZT0i0KPQsdGA0LDRgtGM'+
'IiBvbmNsaWNrPSIkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmVtcHR5KCk7IiB0eXBlPSJidXR0b24iPiZuYnNwOyZuYnNwOzxpbnB1dCB2YWx1ZT0i0JPQvtGC0L7Q'+
'stC+ISIgb25jbGljaz0iaWYoeXVraUFkZEdhbWVGaWxlKHRoaXMpKXskKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmVtcHR5KCk7fTsiIHN0eWxlPSJmb250LXdlaWdo'+
'dDogYm9sZDsiIHR5cGU9ImJ1dHRvbiI+JykpOwogIH07CgogIHJldHVybiBteTsKfSgpKTsKCgp2YXIgeXVraUxldHNQbGF5UmV2ZXJzaSA9IGZ1bmN0aW9uKGVsKXsK'+
'ICAgIHl1a2lNYWtlUmVwbHlGb3JtKGVsLCBIYW5hYmlyYS5VUkwuYm9hcmQsICQoZWwpLnBhcmVudHMoJy50aHJlYWQnKS5hdHRyKCdpZCcpLnJlcGxhY2UoJ3RocmVh'+
'ZF8nLCAnJyksICQoZWwpLnBhcmVudHMoJy5wb3N0JykuYXR0cignaWQnKS5yZXBsYWNlKCdwb3N0XycsICcnKSk7Cn0KCnZhciB5dWtpQWRkR2FtZUZpbGUgPSBmdW5j'+
'dGlvbihlbCl7CiAgICBpZihmaWxlTGlzdC5sZW5ndGggPj0gNSl7CiAgICAgICAgICAgIGFsZXJ0KCfQn9GP0YLRjCDRhNCw0LnQu9C+0LIg0Y3RgtC+INC80LDQutGB'+
'0LjQvNGD0Lwg0L3QsCDQlNC+0LHRgNC+0YfQsNC90LUuJyk7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICB2YXIgYm9hcmREYXRhVXJsID0gJChl'+
'bCkucGFyZW50KCkuZmluZCgnY2FudmFzJylbMF0udG9EYXRhVVJMKCk7CgogICAgZiA9IHsibmFtZSI6ICdyZXZlcnNpZ2FtZWJvYXJkLnBuZycsICJzaXplIjogYm9h'+
'cmREYXRhVXJsLmxlbmd0aCAqIDYgLyA4LCAidHlwZSI6ICdpbWFnZS9wbmcnfTsKCiAgICBmaWxlTGlzdC5wdXNoKHsKICAgICAgICBmaWxlOiBmLAogICAgICAgIHJl'+
'bmFtZWQ6IGZhbHNlLAogICAgICAgIGZfbmFtZTogJ3JldmVyc2lnYW1lYm9hcmQucG5nJywKICAgICAgICBqcGVnU3RyaXBwZWQ6IHRydWUsCiAgICAgICAgZWw6ICAg'+
'JCgnPGRpdiBjbGFzcz0ieXVraUZpbGUiPjxzcGFuIGNsYXNzPSJ5dWtpX2NsaWNrYWJsZSI+W9GD0LHRgNCw0YLRjF08L3NwYW4+PGJyLz48aW1nIHNyYz0iJytib2Fy'+
'ZERhdGFVcmwrJyIvPjxici8+PHNwYW4gY2xhc3M9ImZpbGVfbmFtZSI+JysKICAgICAgICAgICAgZXNjYXBlKGYubmFtZSkrJzwvc3Bhbj48YnIvPjxzcGFuIGNsYXNz'+
'PSJmaWxlX25hbWUiPicrCiAgICAgICAgICAgIGJ5dGVzTWFnbml0dWRlKGYuc2l6ZSkrJyZuYnNwOzwvc3Bhbj48c2VsZWN0IG5hbWU9ImZpbGVfMV9yYXRpbmciIGNs'+
'YXNzPSJyYXRpbmdfU0ZXIiBvbmNoYW5nZT1cJyQodGhpcykuYXR0cigiY2xhc3MiLCAiIikuYWRkQ2xhc3MoInJhdGluZ18iICsgJCh0aGlzKS5jaGlsZHJlbigiOnNl'+
'bGVjdGVkIikudmFsKCkucmVwbGFjZSgiLSIsIiIpKTtcJz48b3B0aW9uIGNsYXNzPSJyYXRpbmdfU0ZXIj5TRlc8L29wdGlvbj48b3B0aW9uIGNsYXNzPSJyYXRpbmdf'+
'UjE1Ij5SLTE1PC9vcHRpb24+PG9wdGlvbiBjbGFzcz0icmF0aW5nX1IxOCI+Ui0xODwvb3B0aW9uPjxvcHRpb24gY2xhc3M9InJhdGluZ19SMThHIj5SLTE4Rzwvb3B0'+
'aW9uPjwvc2VsZWN0PjwvZGl2PicpLAogICAgICAgIGRhdGFVUkw6IGJvYXJkRGF0YVVybAogICAgfSk7CgoKICAgIGZpbGVMaXN0W2ZpbGVMaXN0Lmxlbmd0aCAtIDFd'+
'LmVsLmZpbmQoJy55dWtpX2NsaWNrYWJsZScpLm9uKCJjbGljayIsIChmdW5jdGlvbihkYXRhKXsKICAgICAgICByZXR1cm4gZnVuY3Rpb24oZSl7CiAgICAgICAgICAg'+
'IHZhciBpZHggPSBmaWxlTGlzdC5pbmRleE9mKGRhdGEpOwogICAgICAgICAgICBkYXRhLmVsLnJlbW92ZSgpOwogICAgICAgICAgICBkZWxldGUgZmlsZUxpc3RbaWR4'+
'XTsKICAgICAgICAgICAgZmlsZUxpc3Quc3BsaWNlKGlkeCwgMSkKCiAgICAgICAgfQogICAgfShmaWxlTGlzdFtmaWxlTGlzdC5sZW5ndGggLSAxXSkpICkKCiAgICAk'+
'KCcjZmlsZXNfcGxhY2Vob2xkZXInKS5hcHBlbmQoZmlsZUxpc3RbZmlsZUxpc3QubGVuZ3RoIC0gMV0uZWwpOwoKICAgIHJldHVybiB0cnVlOwp9Cgp2YXIgeXVraUF0'+
'dGFjaENhcGNoYSA9IGZ1bmN0aW9uKGVsKXsKICAgIGlmKGZpbGVMaXN0Lmxlbmd0aCA+PSA1KXsKICAgICAgICAgICAgYWxlcnQoJ9Cf0Y/RgtGMINGE0LDQudC70L7Q'+
'siDRjdGC0L4g0LzQsNC60YHQuNC80YPQvCDQvdCwINCU0L7QsdGA0L7Rh9Cw0L3QtS4nKTsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHZhciBp'+
'bWcgPSAkKGVsKS5wYXJlbnQoKS5maW5kKCdpbWcnKVswXTsKICAgIGlmKGltZy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnaW1nJyl7CiAgICAgICAgdmFyIGNh'+
'bnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpOwogICAgICAgIGNhbnZhcy53aWR0aCA9IGltZy53aWR0aDsKICAgICAgICBjYW52YXMuaGVpZ2h0'+
'ID0gaW1nLmhlaWdodDsKICAgICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoIjJkIik7CiAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDApOwogICAg'+
'ICAgIHZhciBkYXRhVVJMID0gY2FudmFzLnRvRGF0YVVSTCgiaW1hZ2UvcG5nIik7CgogICAgICAgIGYgPSB7Im5hbWUiOiAndGFsa2luZ19jYXB0Y2hhLnBuZycsICJz'+
'aXplIjogZGF0YVVSTC5sZW5ndGggKiA2IC8gOCwgInR5cGUiOiAnaW1hZ2UvcG5nJ307CgogICAgICAgIGZpbGVMaXN0LnB1c2goewogICAgICAgICAgICBmaWxlOiBm'+
'LAogICAgICAgICAgICByZW5hbWVkOiBmYWxzZSwKICAgICAgICAgICAgZl9uYW1lOiAndGFsa2luZ19jYXB0Y2hhLnBuZycsCiAgICAgICAgICAgIGpwZWdTdHJpcHBl'+
'ZDogdHJ1ZSwKICAgICAgICAgICAgZWw6ICAgJCgnPGRpdiBjbGFzcz0ieXVraUZpbGUiPjxzcGFuIGNsYXNzPSJ5dWtpX2NsaWNrYWJsZSI+W9GD0LHRgNCw0YLRjF08'+
'L3NwYW4+PGJyLz48aW1nIHNyYz0iJytkYXRhVVJMKyciLz48YnIvPjxzcGFuIGNsYXNzPSJmaWxlX25hbWUiPicrCiAgICAgICAgICAgICAgICBlc2NhcGUoZi5uYW1l'+
'KSsnPC9zcGFuPjxici8+PHNwYW4gY2xhc3M9ImZpbGVfbmFtZSI+JysKICAgICAgICAgICAgICAgIGJ5dGVzTWFnbml0dWRlKGYuc2l6ZSkrJyZuYnNwOzwvc3Bhbj48'+
'c2VsZWN0IG5hbWU9ImZpbGVfMV9yYXRpbmciIGNsYXNzPSJyYXRpbmdfU0ZXIiBvbmNoYW5nZT1cJyQodGhpcykuYXR0cigiY2xhc3MiLCAiIikuYWRkQ2xhc3MoInJh'+
'dGluZ18iICsgJCh0aGlzKS5jaGlsZHJlbigiOnNlbGVjdGVkIikudmFsKCkucmVwbGFjZSgiLSIsIiIpKTtcJz48b3B0aW9uIGNsYXNzPSJyYXRpbmdfU0ZXIj5TRlc8'+
'L29wdGlvbj48b3B0aW9uIGNsYXNzPSJyYXRpbmdfUjE1Ij5SLTE1PC9vcHRpb24+PG9wdGlvbiBjbGFzcz0icmF0aW5nX1IxOCI+Ui0xODwvb3B0aW9uPjxvcHRpb24g'+
'Y2xhc3M9InJhdGluZ19SMThHIj5SLTE4Rzwvb3B0aW9uPjwvc2VsZWN0PjwvZGl2PicpLAogICAgICAgICAgICBkYXRhVVJMOiBkYXRhVVJMCiAgICAgICAgfSk7CgoK'+
'ICAgICAgICBmaWxlTGlzdFtmaWxlTGlzdC5sZW5ndGggLSAxXS5lbC5maW5kKCcueXVraV9jbGlja2FibGUnKS5vbigiY2xpY2siLCAoZnVuY3Rpb24oZGF0YSl7CiAg'+
'ICAgICAgICAgIHJldHVybiBmdW5jdGlvbihlKXsKICAgICAgICAgICAgICAgIHZhciBpZHggPSBmaWxlTGlzdC5pbmRleE9mKGRhdGEpOwogICAgICAgICAgICAgICAg'+
'ZGF0YS5lbC5yZW1vdmUoKTsKICAgICAgICAgICAgICAgIGRlbGV0ZSBmaWxlTGlzdFtpZHhdOwogICAgICAgICAgICAgICAgZmlsZUxpc3Quc3BsaWNlKGlkeCwgMSkK'+
'CiAgICAgICAgICAgIH0KICAgICAgICB9KGZpbGVMaXN0W2ZpbGVMaXN0Lmxlbmd0aCAtIDFdKSkgKQoKICAgICAgICAkKCcjZmlsZXNfcGxhY2Vob2xkZXInKS5hcHBl'+
'bmQoZmlsZUxpc3RbZmlsZUxpc3QubGVuZ3RoIC0gMV0uZWwpOwogICAgfQogICAgcmV0dXJuIHRydWU7Cn0KCgp2YXIgc3VwcG9ydHNfaHRtbDVfc3RvcmFnZWZ1bmN0'+
'aW9uID0gZnVuY3Rpb24oKSB7CiAgICB0cnkgewogICAgICAgIHJldHVybiAnbG9jYWxTdG9yYWdlJyBpbiB3aW5kb3cgJiYgd2luZG93Wydsb2NhbFN0b3JhZ2UnXSAh'+
'PT0gbnVsbDsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9Cn0KCnZhciB5dWtpR2V0TG9jYWxTdG9yYWdlVmFsdWUgPSBmdW5jdGlv'+
'bihuYW1lLCBkZWZsdCl7CiAgICBpZihzdXBwb3J0c19odG1sNV9zdG9yYWdlZnVuY3Rpb24oKSAmJiBuYW1lIGluIGxvY2FsU3RvcmFnZSl7CiAgICAgICAgdmFyIHYg'+
'PSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShuYW1lKTsKICAgICAgICBpZih2ID09ICdmYWxzZScpewogICAgICAgICAgICB2ID0gZmFsc2U7CiAgICAgICAgfQogICAgICAg'+
'IGlmKHYgPT0gJ3RydWUnKXsKICAgICAgICAgICAgdiA9IHRydWU7CiAgICAgICAgfQogICAgICAgIHJldHVybiB2OwogICAgfWVsc2V7CiAgICAgICAgcmV0dXJuIGRl'+
'Zmx0OwogICAgfQp9Cgp2YXIgeXVraVNldExvY2FsU3RvcmFnZVZhbHVlID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpewogICAgaWYoc3VwcG9ydHNfaHRtbDVfc3RvcmFn'+
'ZWZ1bmN0aW9uKCkpewogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKG5hbWUsIHZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH1lbHNlewogICAgICAg'+
'IHJldHVybiBmYWxzZTsKICAgIH0KfQoKdmFyIHl1a2lTZXROZXdPcHRpb25zID0gZnVuY3Rpb24oZWwpewogICAgaWYoJChlbCkuYXR0cignaWQnKSA9PSAneXVraUF1'+
'dG9sb2FkT3B0aW9uJyl7CiAgICAgICAgeXVraUF1dG91cGRhdGVUaHJlYWQgPSBlbC5jaGVja2VkOwogICAgICAgIHl1a2lTZXRMb2NhbFN0b3JhZ2VWYWx1ZSgneXVr'+
'aWF1dG91cGRhdGV0aHJlYWQnLCB5dWtpQXV0b3VwZGF0ZVRocmVhZCk7CiAgICB9CiAgICBpZigkKGVsKS5hdHRyKCdpZCcpID09ICd5dWtpQXV0b2xvYWRQZXJpb2Qn'+
'KXsKICAgICAgICB0aHJlYWRVcGRhdGVUaW1lciA9ICQoZWwpLnZhbCgpOwogICAgICAgIHl1a2lTZXRMb2NhbFN0b3JhZ2VWYWx1ZSgneXVraXRocmVhZHVwZGF0ZXRp'+
'bWUnLCB0aHJlYWRVcGRhdGVUaW1lcik7CiAgICB9CiAgICAKICAgIGlmKCQoZWwpLmF0dHIoJ2lkJykgPT0gJ3l1a2lSZW1vdmVFeGlmJyl7CiAgICAgICAgeXVraVJl'+
'bW92ZUV4aWYgPSBlbC5jaGVja2VkOwogICAgICAgIHl1a2lTZXRMb2NhbFN0b3JhZ2VWYWx1ZSgneXVraVJlbW92ZUV4aWYnLCB5dWtpUmVtb3ZlRXhpZik7CiAgICB9'+
'CiAgICBpZigkKGVsKS5hdHRyKCdpZCcpID09ICd5dWtpUmVtb3ZlRmlsZU5hbWUnKXsKICAgICAgICB5dWtpUmVtb3ZlRmlsZU5hbWUgPSBlbC5jaGVja2VkOwogICAg'+
'ICAgIHl1a2lTZXRMb2NhbFN0b3JhZ2VWYWx1ZSgneXVraVJlbW92ZUZpbGVOYW1lJywgeXVraVJlbW92ZUZpbGVOYW1lKTsKICAgIH0gICAgCn0KCnZhciB5dWtpU2Ny'+
'b2xUb05ldyA9IGZ1bmN0aW9uKCl7CiAgICBpZigkKCcueXVraVNheXNQb3N0TmV3JykubGVuZ3RoID4gMCl7CiAgICAgICAgdmFyIGVsID0gJCgkKCcueXVraVNheXNQ'+
'b3N0TmV3JylbMF0pOwogICAgICAgICQoJ2h0bWwsYm9keScpLmFuaW1hdGUoe3Njcm9sbFRvcDogZWwub2Zmc2V0KCkudG9wfSwgMTAwMCwgbnVsbCwgZnVuY3Rpb24o'+
'KXsgICAgICAgICAgICAKICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpewogICAgICAgICAgICAgICAgZWwudHJpZ2dlciggIm1vdXNlbGVhdmUiICk7CiAg'+
'ICAgICAgICAgIH0sIDEwMDApOwogICAgICAgIH0pOwogICAgfQp9CgpmdW5jdGlvbiBjaGVja0VudGVyKGUpewogICAgZSA9IGUgfHwgZXZlbnQ7CiAgICByZXR1cm4g'+
'KGUua2V5Q29kZSB8fCBlLndoaWNoIHx8IGUuY2hhckNvZGUgfHwgMCkgIT09IDEzOwp9Cgo7KGZ1bmN0aW9uKCl7CiAgICAndXNlIHN0cmljdCc7CgogICAgJCgnPHN0'+
'eWxlIHR5cGU9InRleHQvY3NzIj4gcHJlIHt3aGl0ZS1zcGFjZTogcHJlLXdyYXA7IHdoaXRlLXNwYWNlOiAtbW96LXByZS13cmFwOyB3aGl0ZS1zcGFjZTogLXByZS13'+
'cmFwOyB3aGl0ZS1zcGFjZTogLW8tcHJlLXdyYXA7IHdvcmQtd3JhcDogYnJlYWstd29yZDt9IC5yZXBseV8ge2hlaWdodDogMTZweDtkaXNwbGF5OiBpbmxpbmUtYmxv'+
'Y2s7dmVydGljYWwtYWxpZ246IGJvdHRvbTt9IC5yZXBseSwgLnBvc3QtZXJyb3IsIC5wb3B1cCB7Ym9yZGVyLXJhZGl1czogNXB4O30gLnl1a2lfeXRob2xkZXIge2Zs'+
'b2F0OiBsZWZ0O30gLnl1a2lTYXlzUG9zdERlbGV0ZWQge29wYWNpdHk6IC41O30gLnl1a2lTYXlzUG9zdERlbGV0ZWQ6aG92ZXIge29wYWNpdHk6IDE7fSAueXVraVNh'+
'eXNQb3N0TmV3IHtiYWNrZ3JvdW5kOiAjZWU5O30gLnl1a2lfY2xpY2thYmxlIHsgY3Vyc29yOiBwb2ludGVyOyAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7IC13'+
'ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7IC1raHRtbC11c2VyLXNlbGVjdDogbm9uZTsgLW1vei11c2VyLXNlbGVjdDogLW1vei1ub25lOyAtbXMtdXNlci1zZWxlY3Q6'+
'IG5vbmU7IHVzZXItc2VsZWN0OiBub25lOyB9IC55dWtpRmlsZSB7IHRleHQtYWxpZ246IGNlbnRlcjsgZm9udC1zaXplOiA2NiU7IGRpc3BsYXk6IGlubGluZS1ibG9j'+
'azsgd2lkdGg6IDIxMHB4OyBiYWNrZ3JvdW5kOiAjZWVlOyBib3JkZXItcmFkaXVzOiA1cHg7IG1hcmdpbjogNXB4OyBib3JkZXI6IDFweCBzb2xpZCAjY2NjOyB9ICNm'+
'aWxlc19wbGFjZWhvbGRlciA+ICogeyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB9IC55dWtpRmlsZSBpbWcgeyBtYXgtd2lkdGg6IDIwMHB4OyBtYXgtaGVpZ2h0OiAyMDBw'+
'eDsgYm94LXNoYWRvdzogMCA0cHggOHB4IDAgcmdiYSgwLCAwLCAwLCAwLjIpOyBtYXJnaW46IDVweCAwOyB9IC55dWtpRmlsZSBzcGFuIHsgbWF4LXdpZHRoOiAyMDBw'+
'eDsgd29yZC13cmFwOiBicmVhay13b3JkOyB9IC5yYXRpbmdfU0ZXIHsgYmFja2dyb3VuZDogZ3JlZW47IH0gLnJhdGluZ19SMTUgeyBiYWNrZ3JvdW5kOiB5ZWxsb3c7'+
'IH0gLnJhdGluZ19SMTggeyBiYWNrZ3JvdW5kOiBvcmFuZ2U7IH0gLnJhdGluZ19SMThHIHsgYmFja2dyb3VuZDogcmVkOyB9IC5kZS15dHViZS1saW5rOmJlZm9yZSB7'+
'Y29udGVudDoiIjtiYWNrZ3JvdW5kOnVybChodHRwczovL3lvdXR1YmUuY29tL2Zhdmljb24uaWNvKSBuby1yZXBlYXQgY2VudGVyO21hcmdpbjowIDRweDtwYWRkaW5n'+
'OjAgMTZweCAwIDA7fSA8L3N0eWxlPicpLmFwcGVuZFRvKCJoZWFkIik7CgogICAgSGFuYWJpcmEuVVJMID0gUGFyc2VVcmwoKTsKCiAgICB0aHJlYWRVcGRhdGVUaW1l'+
'ciA9IHl1a2lHZXRMb2NhbFN0b3JhZ2VWYWx1ZSgneXVraXRocmVhZHVwZGF0ZXRpbWUnLCB0aHJlYWRVcGRhdGVUaW1lcik7CiAgICB5dWtpQXV0b3VwZGF0ZVRocmVh'+
'ZCA9IHl1a2lHZXRMb2NhbFN0b3JhZ2VWYWx1ZSgneXVraWF1dG91cGRhdGV0aHJlYWQnLCB5dWtpQXV0b3VwZGF0ZVRocmVhZCk7CiAgICB5dWtpUmVtb3ZlRXhpZiA9'+
'IHl1a2lHZXRMb2NhbFN0b3JhZ2VWYWx1ZSgneXVraVJlbW92ZUV4aWYnLCB5dWtpUmVtb3ZlRXhpZik7CiAgICB5dWtpUmVtb3ZlRmlsZU5hbWUgPSB5dWtpR2V0TG9j'+
'YWxTdG9yYWdlVmFsdWUoJ3l1a2lSZW1vdmVGaWxlTmFtZScsIHl1a2lSZW1vdmVGaWxlTmFtZSk7CgogICAgaWYoSGFuYWJpcmEuVVJMLnRocmVhZCl7CiAgICAgICAg'+
'b3JpZ2luYWxUaHJlYWRUaXRsZSA9IEhhbmFiaXJhLlVSTC5ib2FyZCArICcvICcgKyBkb2N1bWVudC50aXRsZS5tYXRjaCgvLivigJRccy4r4oCUXHMoLispLylbMV07'+
'CiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBvcmlnaW5hbFRocmVhZFRpdGxlOwoKICAgICAgICAkKCdkaXYudGhyZWFkJykuYXBwZW5kKCQoJzxiciBjbGVhcj0ibGVm'+
'dCI+PGZvcm0+PGxhYmVsPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9Inl1a2lBdXRvbG9hZE9wdGlvbiIgb25jaGFuZ2U9Inl1a2lTZXROZXdPcHRpb25zKHRoaXMp'+
'OyInKyh5dWtpQXV0b3VwZGF0ZVRocmVhZD8gJyBjaGVja2VkJzogJycpKyc+INCf0L7QtNCz0YDRg9C20LDRgtGMINC90L7QstGL0LUg0L/QvtGB0YLRizwvbGFiZWw+'+
'INC60LDQttC00YvQtSA8aW5wdXQgc2l6ZT0iNCIgbWF4bGVuZ3RoPSI0IiB2YWx1ZT0iNjAiIHR5cGU9InRleHQiIGlkPSJ5dWtpQXV0b2xvYWRQZXJpb2QiIG9ua2V5'+
'cHJlc3MgPSAiY2hlY2tFbnRlcigpIiBvbmNoYW5nZT0ieXVraVNldE5ld09wdGlvbnModGhpcyk7Ij4o0YHQtdC6KSA8c3Bhbj5bPGEgaHJlZj0iIyIgaWQ9Inl1a2lG'+
'b3JjZVVwZGF0ZSIgb25jbGljaz0ieXVraVBsZWFzZUNoZWNrVXBkYXRlcyh0cnVlKTsgcmV0dXJuIGZhbHNlOyI+0J7QsdC90L7QstC40YLRjCDRgdC10LnRh9Cw0YE8'+
'L2E+XTwvc3Bhbj48L2Zvcm0+JykpOwogICAgICAgICQoJyN5dWtpQXV0b2xvYWRQZXJpb2QnKS52YWwodGhyZWFkVXBkYXRlVGltZXIpOwogICAgICAgICQoJzxzdHls'+
'ZSB0eXBlPSJ0ZXh0L2NzcyI+IGRpdi50aHJlYWR7Y291bnRlci1yZXNldDogcHN0Y250IDE7fSAucmVwbHlwb3N0Om5vdCgueXVraVNheXNQb3N0RGVsZXRlZCkgLmNw'+
'YW5lbDphZnRlcntjb3VudGVyLWluY3JlbWVudDogcHN0Y250O2NvbnRlbnQ6IGNvdW50ZXIocHN0Y250KTttYXJnaW4tcmlnaHQ6NHB4O3ZlcnRpY2FsLWFsaWduOjFw'+
'eDtjb2xvcjojMDkwO2ZvbnQ6Ym9sZCAxMXB4IHRhaG9tYTtjdXJzb3I6ZGVmYXVsdDt9IC5yZXBseXBvc3Q6bnRoLWNoaWxkKG4rNTAwKSAuY3BhbmVsOmFmdGVye2Nv'+
'bG9yOiAjOTAwO30gIDwvc3R5bGU+JykuYXBwZW5kVG8oImhlYWQiKTsKCiAgICAgICAgJCgnaHRtbCcpLmFwcGVuZCgnPGRpdiBpZD0ieXVraVNjcm9sbFRvTmV3IiBj'+
'bGFzcz0ieXVraV9jbGlja2FibGUiIHN0eWxlPSJiYWNrZ3JvdW5kOiAjZGRkO2JvcmRlcjogMXB4IHNvbGlkICNjY2M7Ym9yZGVyLXJhZGl1czogNXB4O3Bvc2l0aW9u'+
'OiBmaXhlZDtib3R0b206IDEwcHg7cmlnaHQ6IDIwcHg7Ym94LXNoYWRvdzogMCAwIDEwcHggcmdiYSgwLDAsMCwwLjUpO3BhZGRpbmc6IDNweDtmb250LXNpemU6IDEw'+
'cHg7Ij5b0Log0L3QvtCy0L7QvNGDINC/0L7RgdGC0YNdPC9kaXY+Jyk7CiAgICAgICAgJCgnI3l1a2lTY3JvbGxUb05ldycpLmNsaWNrKHl1a2lTY3JvbFRvTmV3KTsK'+
'CiAgICB9CgogICAgeXVraVBsZWFzZVJlcGx5TGlua3MyKCk7CgogICAgJCgnZGl2Lm9wcG9zdCAuYWJicmV2IGEnKS5lYWNoKGZ1bmN0aW9uKCl7CiAgICAgICAgdmFy'+
'IHRlID0gJCh0aGlzKTsKICAgICAgICB2YXIgb2xkT25DbGljayA9IHRlLmF0dHIoJ29uY2xpY2snKTsKICAgICAgICBpZihvbGRPbkNsaWNrKXsKICAgICAgICAgICAg'+
'dGUub2ZmKCdvbmNsaWNrJyk7CiAgICAgICAgICAgIHRlLmF0dHIoJ29uY2xpY2snLCBvbGRPbkNsaWNrLnJlcGxhY2UoJ0V4cGFuZFRocmVhZCcsICd5dWtpUGxlYXNl'+
'RXhwYW5kVGhyZWFkJykpOwogICAgICAgIH0KICAgIH0pOwoKICAgIHZhciBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgICBpY29uLndp'+
'ZHRoID0gMTY7CiAgICBpY29uLmhlaWdodCA9IDE2OwoKICAgIGVtcHR5SWNvbkRhdGEgPSBpY29uLnRvRGF0YVVSTCgiaW1hZ2UvcG5nIik7CgogICAgdmFyIGZhdmlj'+
'b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTsKICAgIGZhdmljb24uc3JjID0gJy9mYXZpY29uLmljbyc7CiAgICBmYXZpY29uLm9ubG9hZCA9IGZ1bmN0'+
'aW9uKCl7CiAgICAgICAgICAgIGljb24uZ2V0Q29udGV4dCgnMmQnKS5kcmF3SW1hZ2UoZmF2aWNvbiwgMCwgMCk7CiAgICAgICAgICAgIGRvYnJvY2hhbkljb25EYXRh'+
'ID0gaWNvbi50b0RhdGFVUkwoImltYWdlL3BuZyIpOwogICAgICAgICAgICAkKCdsaW5rW3JlbD0iaWNvbiJdJykucmVtb3ZlKCk7CiAgICAgICAgICAgIHl1a2lQbGVh'+
'c1NldEZhdmljb24oZG9icm9jaGFuSWNvbkRhdGEpOwogICAgfQoKCiAgICBzZXRJbnRlcnZhbChmdW5jdGlvbigpewogICAgICAgIGlmKHdpbmRvdy5kb2N1bWVudC5o'+
'aWRkZW4gfHwgd2luZG93LmRvY3VtZW50LndlYmtpdEhpZGRlbikgewogICAgICAgICAgICB5dWtpU2F5c1dlRm9jdXNlZCA9IGZhbHNlOwogICAgICAgICAgICBpZihu'+
'dW1PZk5ld1Bvc3RzICE9IDApewogICAgICAgICAgICAgICAgaWYoJCgnbGlua1tyZWw9InNob3J0Y3V0IGljb24iXScpLmF0dHIoJ2hyZWYnKSA9PSBkb2Jyb2NoYW5J'+
'Y29uRGF0YSl7CiAgICAgICAgICAgICAgICAgICAgeXVraVBsZWFzU2V0RmF2aWNvbihlbXB0eUljb25EYXRhKTsKICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAg'+
'ICAgICAgICAgICAgIHl1a2lQbGVhc1NldEZhdmljb24oZG9icm9jaGFuSWNvbkRhdGEpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9ZWxzZSBpZigkKCds'+
'aW5rW3JlbD0ic2hvcnRjdXQgaWNvbiJdJykuYXR0cignaHJlZicpICE9IGRvYnJvY2hhbkljb25EYXRhKXsKICAgICAgICAgICAgICAgIHl1a2lQbGVhc1NldEZhdmlj'+
'b24oZG9icm9jaGFuSWNvbkRhdGEpOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmKCQoJ2xpbmtbcmVsPSJzaG9ydGN1dCBpY29uIl0nKS5hdHRyKCdocmVm'+
'JykgIT0gZG9icm9jaGFuSWNvbkRhdGEpewogICAgICAgICAgICB5dWtpUGxlYXNTZXRGYXZpY29uKGRvYnJvY2hhbkljb25EYXRhKTsKICAgICAgICAgICAgeXVraVNh'+
'eXNXZUZvY3VzZWQgPSB0cnVlOwogICAgICAgIH0KICAgIH0sIDUwMCk7CgogICAgaWYoSGFuYWJpcmEuVVJMLnRocmVhZCl7CiAgICAgICAgc2V0VGltZW91dCh5dWtp'+
'UGxlYXNlQ2hlY2tVcGRhdGVzLCB0aHJlYWRVcGRhdGVUaW1lciAqIDEwMDApOyAgICAgICAKICAgIH0KCiAgICB2YXIgc2Nyb2xsUG9zID0gJChkb2N1bWVudCkuc2Ny'+
'b2xsVG9wKCk7CiAgICAgICAgICAgICAgICAKCgogICAgICAgICAgLy8gU3RhbmRhcmRzOgogICAgICBpZiAoaGlkZGVuIGluIGRvY3VtZW50KSBkb2N1bWVudC5hZGRF'+
'dmVudExpc3RlbmVyKCJ2aXNpYmlsaXR5Y2hhbmdlIiwgb25jaGFuZ2UpOwogICAgICBlbHNlIGlmICgoaGlkZGVuID0gIm1vekhpZGRlbiIpIGluIGRvY3VtZW50KSBk'+
'b2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJtb3p2aXNpYmlsaXR5Y2hhbmdlIiwgb25jaGFuZ2UpOwogICAgICBlbHNlIGlmICgoaGlkZGVuID0gIndlYmtpdEhpZGRl'+
'biIpIGluIGRvY3VtZW50KSBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJ3ZWJraXR2aXNpYmlsaXR5Y2hhbmdlIiwgb25jaGFuZ2UpOwogICAgICBlbHNlIGlmICgo'+
'aGlkZGVuID0gIm1zSGlkZGVuIikgaW4gZG9jdW1lbnQpIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIm1zdmlzaWJpbGl0eWNoYW5nZSIsIG9uY2hhbmdlKTsKICAg'+
'ICAgLy8gSUUgOSBhbmQgbG93ZXI6CiAgICAgIGVsc2UgaWYgKCdvbmZvY3VzaW4nIGluIGRvY3VtZW50KSBkb2N1bWVudC5vbmZvY3VzaW4gPSBkb2N1bWVudC5vbmZv'+
'Y3Vzb3V0ID0gb25jaGFuZ2U7CiAgICAgIC8vIEFsbCBvdGhlcnM6CiAgICAgIGVsc2Ugd2luZG93Lm9ucGFnZXNob3cgPSB3aW5kb3cub25wYWdlaGlkZSA9IHdpbmRv'+
'dy5vbmZvY3VzID0gd2luZG93Lm9uYmx1ciA9IG9uY2hhbmdlOwoKICAgICAgaWYgKGhpZGRlbiBpbiBkb2N1bWVudCkgaXNWaXNpYmxlID0gIWRvY3VtZW50W2hpZGRl'+
'bl07CgogICAgICBmdW5jdGlvbiBvbmNoYW5nZSAoZXZ0KSB7CiAgICAgICAgdmFyIHMgPSB0cnVlLCB2ID0gdHJ1ZSwgaCA9IGZhbHNlLAogICAgICAgICAgICBldnRN'+
'YXAgPSB7IAogICAgICAgICAgICAgICAgZm9jdXM6diwgZm9jdXNpbjp2LCBwYWdlc2hvdzp2LCBibHVyOmgsIGZvY3Vzb3V0OmgsIHBhZ2VoaWRlOmggCiAgICAgICAg'+
'ICAgIH07CgogICAgICAgIGV2dCA9IGV2dCB8fCB3aW5kb3cuZXZlbnQ7CiAgICAgICAgaWYgKGV2dC50eXBlIGluIGV2dE1hcCkgcyA9IGV2dE1hcFtldnQudHlwZV07'+
'CiAgICAgICAgZWxzZSBzID0gIXRoaXNbaGlkZGVuXTsKCiAgICAgICAgaWYocyl7CiAgICAgICAgICAgIHNjcm9sbFBvcyA9ICQoZG9jdW1lbnQpLnNjcm9sbFRvcCgp'+
'OwogICAgICAgIH1lbHNlewogICAgICAgICAgICAkKGRvY3VtZW50KS5zY3JvbGxUb3Aoc2Nyb2xsUG9zKTsKICAgICAgICB9CiAgICAgIH0KCn0oKSk7Cg==';
